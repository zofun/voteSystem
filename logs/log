 * Restarting with stat
 * Debugger is active!
 * Debugger PIN: 258-806-120
 * Running on http://127.0.0.1:5000/ (Press CTRL+C to quit)
 * Restarting with stat
 * Debugger is active!
 * Debugger PIN: 258-806-120
 * Running on http://127.0.0.1:5000/ (Press CTRL+C to quit)
127.0.0.1 - - [17/Jun/2020 08:38:47] "[33mGET /api/1.0/getusername HTTP/1.1[0m" 404 -
127.0.0.1 - - [17/Jun/2020 08:38:48] "[33mGET /favicon.ico HTTP/1.1[0m" 404 -
 * Restarting with stat
 * Debugger is active!
 * Debugger PIN: 258-806-120
 * Running on http://127.0.0.1:5000/ (Press CTRL+C to quit)
127.0.0.1 - - [17/Jun/2020 08:39:14] "[33mGET /api/1.0/getusername HTTP/1.1[0m" 404 -
127.0.0.1 - - [17/Jun/2020 08:39:53] "[33mGET /api/1.0/getusername HTTP/1.1[0m" 404 -
 * Detected change in 'F:\\python\\voteSystem\\vote\\__init__.py', reloading
 * Restarting with stat
 * Restarting with stat
 * Debugger is active!
 * Debugger PIN: 258-806-120
 * Running on http://127.0.0.1:5000/ (Press CTRL+C to quit)
127.0.0.1 - - [17/Jun/2020 08:45:29] "[33mGET /api/1.0/getusername HTTP/1.1[0m" 404 -
127.0.0.1 - - [17/Jun/2020 08:45:36] "[33mGET /api/1.0/getusername HTTP/1.1[0m" 404 -
127.0.0.1 - - [17/Jun/2020 08:56:06] "[33mGET /getusername HTTP/1.1[0m" 404 -
 * Detected change in 'F:\\python\\voteSystem\\manage.py', reloading
 * Restarting with stat
 * Running on http://127.0.0.1:5000/ (Press CTRL+C to quit)
 * Running on http://127.0.0.1:5000/ (Press CTRL+C to quit)
127.0.0.1 - - [17/Jun/2020 08:59:38] "[33mGET / HTTP/1.1[0m" 404 -
127.0.0.1 - - [17/Jun/2020 08:59:38] "[33mGET /favicon.ico HTTP/1.1[0m" 404 -
 * Running on http://127.0.0.1:5000/ (Press CTRL+C to quit)
127.0.0.1 - - [17/Jun/2020 09:02:18] "[33mGET /api/1.0/getusername HTTP/1.1[0m" 404 -
 * Running on http://127.0.0.1:5000/ (Press CTRL+C to quit)
127.0.0.1 - - [17/Jun/2020 09:02:41] "[33mGET /api/1.0/getusername HTTP/1.1[0m" 404 -
 * Running on http://127.0.0.1:5000/ (Press CTRL+C to quit)
127.0.0.1 - - [17/Jun/2020 09:06:32] "[33mGET /api/1.0/getusername HTTP/1.1[0m" 404 -
 * Running on http://127.0.0.1:5000/ (Press CTRL+C to quit)
127.0.0.1 - - [17/Jun/2020 09:12:57] "[33mGET /api/1.0/ HTTP/1.1[0m" 404 -
127.0.0.1 - - [17/Jun/2020 09:13:01] "[33mGET / HTTP/1.1[0m" 404 -
127.0.0.1 - - [17/Jun/2020 09:13:08] "[33mGET /api/1.0 HTTP/1.1[0m" 404 -
 * Running on http://127.0.0.1:5000/ (Press CTRL+C to quit)
127.0.0.1 - - [17/Jun/2020 09:25:04] "[33mGET /api/1.0 HTTP/1.1[0m" 404 -
 * Running on http://127.0.0.1:5000/ (Press CTRL+C to quit)
127.0.0.1 - - [17/Jun/2020 09:47:42] "[37mGET /api/1.0/ HTTP/1.1[0m" 200 -
 ’µΩ«Î«Û
127.0.0.1 - - [17/Jun/2020 09:47:49] "[37mGET /api/1.0/getusername HTTP/1.1[0m" 201 -
 * Running on http://127.0.0.1:5000/ (Press CTRL+C to quit)
user register username:tom - password:123456 -role:u
127.0.0.1 - - [17/Jun/2020 11:22:46] "[37mPOST /api/1.0/register HTTP/1.1[0m" 200 -
127.0.0.1 - - [17/Jun/2020 11:23:05] "[33mPOST /api/1.0/login HTTP/1.1[0m" 404 -
 * Running on http://127.0.0.1:5000/ (Press CTRL+C to quit)
Exception on /api/1.0/login [POST]
Traceback (most recent call last):
  File "D:\python3\lib\site-packages\flask\app.py", line 2447, in wsgi_app
    response = self.full_dispatch_request()
  File "D:\python3\lib\site-packages\flask\app.py", line 1952, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "D:\python3\lib\site-packages\flask\app.py", line 1821, in handle_user_exception
    reraise(exc_type, exc_value, tb)
  File "D:\python3\lib\site-packages\flask\_compat.py", line 39, in reraise
    raise value
  File "D:\python3\lib\site-packages\flask\app.py", line 1950, in full_dispatch_request
    rv = self.dispatch_request()
  File "D:\python3\lib\site-packages\flask\app.py", line 1936, in dispatch_request
    return self.view_functions[rule.endpoint](**req.view_args)
  File "F:\python\voteSystem\vote\api_1_0\user.py", line 16, in login
    current_app.logger.info("user login" + request.json)
TypeError: can only concatenate str (not "dict") to str
127.0.0.1 - - [17/Jun/2020 11:23:27] "[35m[1mPOST /api/1.0/login HTTP/1.1[0m" 500 -
 * Running on http://127.0.0.1:5000/ (Press CTRL+C to quit)
user login{'username': 'tom', 'password': '123456'}
127.0.0.1 - - [17/Jun/2020 11:24:17] "[31m[1mPOST /api/1.0/login HTTP/1.1[0m" 400 -
 * Running on http://127.0.0.1:5000/ (Press CTRL+C to quit)
user login{'username': 'tom', 'password': '123456'}
127.0.0.1 - - [17/Jun/2020 11:24:44] "[31m[1mPOST /api/1.0/login HTTP/1.1[0m" 400 -
 * Running on http://127.0.0.1:5000/ (Press CTRL+C to quit)
127.0.0.1 - - [17/Jun/2020 11:26:04] "[37mGET /api/1.0/ HTTP/1.1[0m" 200 -
user login{'username': 'tom', 'password': '123456'}
127.0.0.1 - - [17/Jun/2020 11:29:58] "[31m[1mPOST /api/1.0/login HTTP/1.1[0m" 400 -
 * Running on http://127.0.0.1:5000/ (Press CTRL+C to quit)
user login{'username': 'tom', 'password': '123456'}
127.0.0.1 - - [17/Jun/2020 11:30:55] "[31m[1mPOST /api/1.0/login HTTP/1.1[0m" 400 -
 * Running on http://127.0.0.1:5000/ (Press CTRL+C to quit)
user login{'username': 'tom', 'password': '123456'}
Exception on /api/1.0/login [POST]
Traceback (most recent call last):
  File "D:\python3\lib\site-packages\flask\app.py", line 2447, in wsgi_app
    response = self.full_dispatch_request()
  File "D:\python3\lib\site-packages\flask\app.py", line 1952, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "D:\python3\lib\site-packages\flask\app.py", line 1821, in handle_user_exception
    reraise(exc_type, exc_value, tb)
  File "D:\python3\lib\site-packages\flask\_compat.py", line 39, in reraise
    raise value
  File "D:\python3\lib\site-packages\flask\app.py", line 1950, in full_dispatch_request
    rv = self.dispatch_request()
  File "D:\python3\lib\site-packages\flask\app.py", line 1936, in dispatch_request
    return self.view_functions[rule.endpoint](**req.view_args)
  File "F:\python\voteSystem\vote\api_1_0\user.py", line 26, in login
    access_token = create_access_token(identity=u.user_id)
AttributeError: 'BaseQuerySet' object has no attribute 'user_id'
127.0.0.1 - - [17/Jun/2020 11:32:05] "[35m[1mPOST /api/1.0/login HTTP/1.1[0m" 500 -
 * Running on http://127.0.0.1:5000/ (Press CTRL+C to quit)
user login{'username': 'tom', 'password': '123456'}
Exception on /api/1.0/login [POST]
Traceback (most recent call last):
  File "D:\python3\lib\site-packages\flask\app.py", line 2447, in wsgi_app
    response = self.full_dispatch_request()
  File "D:\python3\lib\site-packages\flask\app.py", line 1952, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "D:\python3\lib\site-packages\flask\app.py", line 1821, in handle_user_exception
    reraise(exc_type, exc_value, tb)
  File "D:\python3\lib\site-packages\flask\_compat.py", line 39, in reraise
    raise value
  File "D:\python3\lib\site-packages\flask\app.py", line 1950, in full_dispatch_request
    rv = self.dispatch_request()
  File "D:\python3\lib\site-packages\flask\app.py", line 1936, in dispatch_request
    return self.view_functions[rule.endpoint](**req.view_args)
  File "F:\python\voteSystem\vote\api_1_0\user.py", line 26, in login
    access_token = create_access_token(identity=u.username)
AttributeError: 'BaseQuerySet' object has no attribute 'username'
127.0.0.1 - - [17/Jun/2020 11:32:54] "[35m[1mPOST /api/1.0/login HTTP/1.1[0m" 500 -
 * Running on http://127.0.0.1:5000/ (Press CTRL+C to quit)
user login{'username': 'tom', 'password': '123456'}
Exception on /api/1.0/login [POST]
Traceback (most recent call last):
  File "D:\python3\lib\site-packages\flask\app.py", line 2447, in wsgi_app
    response = self.full_dispatch_request()
  File "D:\python3\lib\site-packages\flask\app.py", line 1952, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "D:\python3\lib\site-packages\flask\app.py", line 1821, in handle_user_exception
    reraise(exc_type, exc_value, tb)
  File "D:\python3\lib\site-packages\flask\_compat.py", line 39, in reraise
    raise value
  File "D:\python3\lib\site-packages\flask\app.py", line 1950, in full_dispatch_request
    rv = self.dispatch_request()
  File "D:\python3\lib\site-packages\flask\app.py", line 1936, in dispatch_request
    return self.view_functions[rule.endpoint](**req.view_args)
  File "F:\python\voteSystem\vote\api_1_0\user.py", line 26, in login
    access_token = create_access_token(identity=u.username)
AttributeError: 'BaseQuerySet' object has no attribute 'username'
127.0.0.1 - - [17/Jun/2020 11:33:50] "[35m[1mPOST /api/1.0/login HTTP/1.1[0m" 500 -
 * Running on http://127.0.0.1:5000/ (Press CTRL+C to quit)
user login{'username': 'tom', 'password': '123456'}
Exception on /api/1.0/login [POST]
Traceback (most recent call last):
  File "D:\python3\lib\site-packages\flask_jwt_extended\utils.py", line 139, in _get_jwt_manager
    return current_app.extensions['flask-jwt-extended']
KeyError: 'flask-jwt-extended'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\python3\lib\site-packages\flask\app.py", line 2447, in wsgi_app
    response = self.full_dispatch_request()
  File "D:\python3\lib\site-packages\flask\app.py", line 1952, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "D:\python3\lib\site-packages\flask\app.py", line 1821, in handle_user_exception
    reraise(exc_type, exc_value, tb)
  File "D:\python3\lib\site-packages\flask\_compat.py", line 39, in reraise
    raise value
  File "D:\python3\lib\site-packages\flask\app.py", line 1950, in full_dispatch_request
    rv = self.dispatch_request()
  File "D:\python3\lib\site-packages\flask\app.py", line 1936, in dispatch_request
    return self.view_functions[rule.endpoint](**req.view_args)
  File "F:\python\voteSystem\vote\api_1_0\user.py", line 26, in login
    access_token = create_access_token(identity=username)
  File "D:\python3\lib\site-packages\flask_jwt_extended\utils.py", line 171, in create_access_token
    jwt_manager = _get_jwt_manager()
  File "D:\python3\lib\site-packages\flask_jwt_extended\utils.py", line 141, in _get_jwt_manager
    raise RuntimeError("You must initialize a JWTManager with this flask "
RuntimeError: You must initialize a JWTManager with this flask application before using this method
127.0.0.1 - - [17/Jun/2020 11:34:24] "[35m[1mPOST /api/1.0/login HTTP/1.1[0m" 500 -
 * Running on http://127.0.0.1:5000/ (Press CTRL+C to quit)
user login{'username': 'tom', 'password': '123456'}
127.0.0.1 - - [17/Jun/2020 11:38:13] "[37mPOST /api/1.0/login HTTP/1.1[0m" 200 -
user login{'username': 'tom', 'password': '12456'}
127.0.0.1 - - [17/Jun/2020 11:38:38] "[37mPOST /api/1.0/login HTTP/1.1[0m" 200 -
user login{'username': 'tom', 'password': '12456'}
127.0.0.1 - - [17/Jun/2020 11:38:46] "[37mPOST /api/1.0/login HTTP/1.1[0m" 200 -
 * Running on http://127.0.0.1:5000/ (Press CTRL+C to quit)
user login{'username': 'tom', 'password': '12456'}
127.0.0.1 - - [17/Jun/2020 11:40:47] "[37mPOST /api/1.0/login HTTP/1.1[0m" 200 -
 * Running on http://127.0.0.1:5000/ (Press CTRL+C to quit)
user login{'username': 'tom', 'password': '12456'}
127.0.0.1 - - [17/Jun/2020 11:41:44] "[37mPOST /api/1.0/login HTTP/1.1[0m" 200 -
 * Running on http://127.0.0.1:5000/ (Press CTRL+C to quit)
user login{'username': 'tom', 'password': '12456'}
127.0.0.1 - - [17/Jun/2020 11:47:07] "[31m[1mPOST /api/1.0/login HTTP/1.1[0m" 400 -
user login{'username': 'tom', 'password': '123456'}
127.0.0.1 - - [17/Jun/2020 11:47:14] "[37mPOST /api/1.0/login HTTP/1.1[0m" 200 -
user register username:tom - password:123456 -role:u
127.0.0.1 - - [17/Jun/2020 11:48:12] "[37mPOST /api/1.0/register HTTP/1.1[0m" 200 -
127.0.0.1 - - [17/Jun/2020 11:48:17] "[37mGET /api/1.0/ HTTP/1.1[0m" 200 -
 * Running on http://127.0.0.1:5000/ (Press CTRL+C to quit)
user login{'username': 'tom', 'password': '123456'}
127.0.0.1 - - [17/Jun/2020 13:38:40] "[37mPOST /api/1.0/login HTTP/1.1[0m" 200 -
user login{'username': 'tom', 'password': '12345'}
127.0.0.1 - - [17/Jun/2020 13:39:00] "[31m[1mPOST /api/1.0/login HTTP/1.1[0m" 400 -
 * Running on http://127.0.0.1:5000/ (Press CTRL+C to quit)
user login{'username': 'tom', 'password': '12345'}
127.0.0.1 - - [17/Jun/2020 13:50:34] "[31m[1mPOST /api/1.0/login HTTP/1.1[0m" 400 -
user login{'username': 'tom', 'password': '123456'}
127.0.0.1 - - [17/Jun/2020 13:50:42] "[37mPOST /api/1.0/login HTTP/1.1[0m" 200 -
user login{'username': 'tom', 'password': '12345'}
127.0.0.1 - - [17/Jun/2020 13:52:11] "[31m[1mPOST /api/1.0/login HTTP/1.1[0m" 400 -
user login{'username': 'tom', 'password': '123456'}
127.0.0.1 - - [17/Jun/2020 13:55:29] "[37mPOST /api/1.0/login HTTP/1.1[0m" 200 -
 * Running on http://127.0.0.1:5000/ (Press CTRL+C to quit)
user login{'username': 'tom', 'password': '123456'}
127.0.0.1 - - [17/Jun/2020 13:55:45] "[37mPOST /api/1.0/login HTTP/1.1[0m" 200 -
 * Running on http://127.0.0.1:5000/ (Press CTRL+C to quit)
127.0.0.1 - - [17/Jun/2020 14:11:47] "[31m[1mPOST /api/1.0/register HTTP/1.1[0m" 400 -
 * Running on http://127.0.0.1:5000/ (Press CTRL+C to quit)
127.0.0.1 - - [17/Jun/2020 14:12:22] "[31m[1mPOST /api/1.0/register HTTP/1.1[0m" 400 -
127.0.0.1 - - [17/Jun/2020 14:14:01] "[31m[1mPOST /api/1.0/register HTTP/1.1[0m" 400 -
127.0.0.1 - - [17/Jun/2020 14:18:23] "[31m[1mPOST /api/1.0/register HTTP/1.1[0m" 400 -
127.0.0.1 - - [17/Jun/2020 14:19:03] "[31m[1mPOST /api/1.0/register HTTP/1.1[0m" 400 -
user register username:tony - password:123456 -role:u
127.0.0.1 - - [17/Jun/2020 14:19:18] "[37mPOST /api/1.0/register HTTP/1.1[0m" 200 -
127.0.0.1 - - [17/Jun/2020 14:19:36] "[31m[1mPOST /api/1.0/register HTTP/1.1[0m" 400 -
 * Running on http://127.0.0.1:5000/ (Press CTRL+C to quit)
Exception on /api/1.0/vote/1/2 [GET]
Traceback (most recent call last):
  File "D:\python3\lib\site-packages\flask\app.py", line 2447, in wsgi_app
    response = self.full_dispatch_request()
  File "D:\python3\lib\site-packages\flask\app.py", line 1953, in full_dispatch_request
    return self.finalize_request(rv)
  File "D:\python3\lib\site-packages\flask\app.py", line 1968, in finalize_request
    response = self.make_response(rv)
  File "D:\python3\lib\site-packages\flask\app.py", line 2098, in make_response
    "The view function did not return a valid response. The"
TypeError: The view function did not return a valid response. The function either returned None or ended without a return statement.
127.0.0.1 - - [17/Jun/2020 14:35:34] "[35m[1mGET /api/1.0/vote/1/2 HTTP/1.1[0m" 500 -
 * Running on http://127.0.0.1:5000/ (Press CTRL+C to quit)
127.0.0.1 - - [17/Jun/2020 15:28:58] "[37mGET /api/1.0/ HTTP/1.1[0m" 200 -
 * Running on http://127.0.0.1:5000/ (Press CTRL+C to quit)
user registerobject_idNone - username:tony - password:123456 -role:u
127.0.0.1 - - [17/Jun/2020 15:35:40] "[37mPOST /api/1.0/register HTTP/1.1[0m" 200 -
127.0.0.1 - - [17/Jun/2020 15:35:49] "[37mGET /api/1.0/ HTTP/1.1[0m" 200 -
 * Running on http://127.0.0.1:5000/ (Press CTRL+C to quit)
127.0.0.1 - - [17/Jun/2020 15:40:56] "[37mGET /api/1.0/ HTTP/1.1[0m" 200 -
127.0.0.1 - - [17/Jun/2020 15:55:28] "[31m[1mGET /api/1.0/apply HTTP/1.1[0m" 405 -
 * Running on http://127.0.0.1:5000/ (Press CTRL+C to quit)
127.0.0.1 - - [17/Jun/2020 16:15:41] "[37mPOST /api/1.0/apply HTTP/1.1[0m" 200 -
127.0.0.1 - - [17/Jun/2020 16:17:29] "[31m[1mPOST /api/1.0/apply HTTP/1.1[0m" 400 -
Exception on /api/1.0/apply [POST]
Traceback (most recent call last):
  File "D:\python3\lib\site-packages\flask\app.py", line 2447, in wsgi_app
    response = self.full_dispatch_request()
  File "D:\python3\lib\site-packages\flask\app.py", line 1952, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "D:\python3\lib\site-packages\flask\app.py", line 1821, in handle_user_exception
    reraise(exc_type, exc_value, tb)
  File "D:\python3\lib\site-packages\flask\_compat.py", line 39, in reraise
    raise value
  File "D:\python3\lib\site-packages\flask\app.py", line 1950, in full_dispatch_request
    rv = self.dispatch_request()
  File "D:\python3\lib\site-packages\flask\app.py", line 1936, in dispatch_request
    return self.view_functions[rule.endpoint](**req.view_args)
  File "F:\python\voteSystem\vote\api_1_0\user.py", line 64, in apply
    competitor = Competitor(id=cid, nickname=nickname, name=name, tel=tel, vote_num=0)
  File "D:\python3\lib\site-packages\mongoengine\base\document.py", line 99, in __init__
    raise FieldDoesNotExist(msg)
mongoengine.errors.FieldDoesNotExist: The fields "{'nickname', 'name'}" do not exist on the document "Competitor"
127.0.0.1 - - [17/Jun/2020 16:19:09] "[35m[1mPOST /api/1.0/apply HTTP/1.1[0m" 500 -
 * Running on http://127.0.0.1:5000/ (Press CTRL+C to quit)
Exception on /api/1.0/apply [POST]
Traceback (most recent call last):
  File "D:\python3\lib\site-packages\flask\app.py", line 2447, in wsgi_app
    response = self.full_dispatch_request()
  File "D:\python3\lib\site-packages\flask\app.py", line 1952, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "D:\python3\lib\site-packages\flask\app.py", line 1821, in handle_user_exception
    reraise(exc_type, exc_value, tb)
  File "D:\python3\lib\site-packages\flask\_compat.py", line 39, in reraise
    raise value
  File "D:\python3\lib\site-packages\flask\app.py", line 1950, in full_dispatch_request
    rv = self.dispatch_request()
  File "D:\python3\lib\site-packages\flask\app.py", line 1936, in dispatch_request
    return self.view_functions[rule.endpoint](**req.view_args)
  File "F:\python\voteSystem\vote\api_1_0\user.py", line 66, in apply
    competitor.save()
  File "D:\python3\lib\site-packages\mongoengine\document.py", line 388, in save
    self.validate(clean=clean)
  File "D:\python3\lib\site-packages\mongoengine\base\document.py", line 445, in validate
    raise ValidationError(message, errors=errors)
mongoengine.errors.ValidationError: ValidationError (Competitor:None) (Invalid ObjectID: ['auto_id_0'] Field is required: ['id'])
127.0.0.1 - - [17/Jun/2020 16:20:59] "[35m[1mPOST /api/1.0/apply HTTP/1.1[0m" 500 -
 * Running on http://127.0.0.1:5000/ (Press CTRL+C to quit)
127.0.0.1 - - [17/Jun/2020 16:21:56] "[37mPOST /api/1.0/apply HTTP/1.1[0m" 200 -
127.0.0.1 - - [17/Jun/2020 16:22:03] "[37mPOST /api/1.0/apply HTTP/1.1[0m" 200 -
127.0.0.1 - - [17/Jun/2020 16:24:13] "[37mPOST /api/1.0/apply HTTP/1.1[0m" 200 -
127.0.0.1 - - [17/Jun/2020 16:25:04] "[37mPOST /api/1.0/apply HTTP/1.1[0m" 200 -
 * Running on http://127.0.0.1:5000/ (Press CTRL+C to quit)
127.0.0.1 - - [17/Jun/2020 17:28:53] "[31m[1mGET /api/1.0/change_competitor_state HTTP/1.1[0m" 405 -
user login{'username': 'tony', 'password': '123456'}
127.0.0.1 - - [17/Jun/2020 17:32:42] "[37mPOST /api/1.0/login HTTP/1.1[0m" 200 -
Exception on /api/1.0/change_competitor_state [POST]
Traceback (most recent call last):
  File "D:\python3\lib\site-packages\flask\app.py", line 2447, in wsgi_app
    response = self.full_dispatch_request()
  File "D:\python3\lib\site-packages\flask\app.py", line 1952, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "D:\python3\lib\site-packages\flask\app.py", line 1821, in handle_user_exception
    reraise(exc_type, exc_value, tb)
  File "D:\python3\lib\site-packages\flask\_compat.py", line 39, in reraise
    raise value
  File "D:\python3\lib\site-packages\flask\app.py", line 1950, in full_dispatch_request
    rv = self.dispatch_request()
  File "D:\python3\lib\site-packages\flask\app.py", line 1936, in dispatch_request
    return self.view_functions[rule.endpoint](**req.view_args)
  File "D:\python3\lib\site-packages\flask_jwt_extended\view_decorators.py", line 108, in wrapper
    return fn(*args, **kwargs)
  File "F:\python\voteSystem\vote\api_1_0\admin.py", line 13, in change_competitor_state
    cid=request.json.get('cid',None)
AttributeError: 'NoneType' object has no attribute 'get'
127.0.0.1 - - [17/Jun/2020 17:33:27] "[35m[1mPOST /api/1.0/change_competitor_state HTTP/1.1[0m" 500 -
 * Running on http://127.0.0.1:5000/ (Press CTRL+C to quit)
 * Running on http://127.0.0.1:5000/ (Press CTRL+C to quit)
127.0.0.1 - - [17/Jun/2020 17:35:40] "[37mPOST /api/1.0/change_competitor_state HTTP/1.1[0m" 200 -
 * Running on http://127.0.0.1:5000/ (Press CTRL+C to quit)
127.0.0.1 - - [17/Jun/2020 17:37:48] "[37mPOST /api/1.0/change_competitor_state HTTP/1.1[0m" 200 -
 * Running on http://127.0.0.1:5000/ (Press CTRL+C to quit)
127.0.0.1 - - [17/Jun/2020 17:53:29] "[31m[1mPOST /api/1.0/change_competitor_state HTTP/1.1[0m" 401 -
127.0.0.1 - - [17/Jun/2020 17:53:33] "[31m[1mPOST /api/1.0/change_competitor_state HTTP/1.1[0m" 401 -
user login{'username': 'tony', 'password': '123456'}
127.0.0.1 - - [17/Jun/2020 17:54:09] "[37mPOST /api/1.0/login HTTP/1.1[0m" 200 -
Exception on /api/1.0/change_competitor_state [POST]
Traceback (most recent call last):
  File "D:\python3\lib\site-packages\flask\app.py", line 2447, in wsgi_app
    response = self.full_dispatch_request()
  File "D:\python3\lib\site-packages\flask\app.py", line 1952, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "D:\python3\lib\site-packages\flask\app.py", line 1821, in handle_user_exception
    reraise(exc_type, exc_value, tb)
  File "D:\python3\lib\site-packages\flask\_compat.py", line 39, in reraise
    raise value
  File "D:\python3\lib\site-packages\flask\app.py", line 1950, in full_dispatch_request
    rv = self.dispatch_request()
  File "D:\python3\lib\site-packages\flask\app.py", line 1936, in dispatch_request
    return self.view_functions[rule.endpoint](**req.view_args)
  File "D:\python3\lib\site-packages\flask_jwt_extended\view_decorators.py", line 108, in wrapper
    return fn(*args, **kwargs)
  File "F:\python\voteSystem\vote\api_1_0\admin.py", line 17, in change_competitor_state
    competitors = Competitor.objects.find(cid=cid)
AttributeError: 'BaseQuerySet' object has no attribute 'find'
127.0.0.1 - - [17/Jun/2020 17:54:25] "[35m[1mPOST /api/1.0/change_competitor_state HTTP/1.1[0m" 500 -
 * Running on http://127.0.0.1:5000/ (Press CTRL+C to quit)
127.0.0.1 - - [17/Jun/2020 17:55:22] "[37mPOST /api/1.0/change_competitor_state HTTP/1.1[0m" 200 -
Exception on /api/1.0/change_competitor_state [POST]
Traceback (most recent call last):
  File "D:\python3\lib\site-packages\flask\app.py", line 2447, in wsgi_app
    response = self.full_dispatch_request()
  File "D:\python3\lib\site-packages\flask\app.py", line 1952, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "D:\python3\lib\site-packages\flask\app.py", line 1821, in handle_user_exception
    reraise(exc_type, exc_value, tb)
  File "D:\python3\lib\site-packages\flask\_compat.py", line 39, in reraise
    raise value
  File "D:\python3\lib\site-packages\flask\app.py", line 1950, in full_dispatch_request
    rv = self.dispatch_request()
  File "D:\python3\lib\site-packages\flask\app.py", line 1936, in dispatch_request
    return self.view_functions[rule.endpoint](**req.view_args)
  File "D:\python3\lib\site-packages\flask_jwt_extended\view_decorators.py", line 108, in wrapper
    return fn(*args, **kwargs)
  File "F:\python\voteSystem\vote\api_1_0\admin.py", line 21, in change_competitor_state
    competitors.save()
AttributeError: 'BaseQuerySet' object has no attribute 'save'
127.0.0.1 - - [17/Jun/2020 17:55:41] "[35m[1mPOST /api/1.0/change_competitor_state HTTP/1.1[0m" 500 -
 * Running on http://127.0.0.1:5000/ (Press CTRL+C to quit)
127.0.0.1 - - [17/Jun/2020 17:58:11] "[37mPOST /api/1.0/change_competitor_state HTTP/1.1[0m" 200 -
 * Running on http://127.0.0.1:5000/ (Press CTRL+C to quit)
127.0.0.1 - - [17/Jun/2020 18:00:51] "[37mPOST /api/1.0/apply HTTP/1.1[0m" 200 -
127.0.0.1 - - [17/Jun/2020 18:01:18] "[37mPOST /api/1.0/change_competitor_state HTTP/1.1[0m" 200 -
 * Running on http://127.0.0.1:5000/ (Press CTRL+C to quit)
127.0.0.1 - - [17/Jun/2020 18:02:12] "[37mPOST /api/1.0/change_competitor_state HTTP/1.1[0m" 200 -
 * Running on http://127.0.0.1:5000/ (Press CTRL+C to quit)
127.0.0.1 - - [17/Jun/2020 18:03:27] "[37mPOST /api/1.0/change_competitor_state HTTP/1.1[0m" 200 -
 * Running on http://127.0.0.1:5000/ (Press CTRL+C to quit)
 * Running on http://127.0.0.1:5000/ (Press CTRL+C to quit)
127.0.0.1 - - [17/Jun/2020 18:05:34] "[37mPOST /api/1.0/change_competitor_state HTTP/1.1[0m" 200 -
 * Running on http://127.0.0.1:5000/ (Press CTRL+C to quit)
127.0.0.1 - - [17/Jun/2020 18:07:19] "[37mPOST /api/1.0/change_competitor_state HTTP/1.1[0m" 200 -
 * Running on http://127.0.0.1:5000/ (Press CTRL+C to quit)
user login{'username': 'tony', 'password': '123456'}
Exception on /api/1.0/login [POST]
Traceback (most recent call last):
  File "D:\python3\lib\site-packages\flask\app.py", line 2447, in wsgi_app
    response = self.full_dispatch_request()
  File "D:\python3\lib\site-packages\flask\app.py", line 1952, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "D:\python3\lib\site-packages\flask\app.py", line 1821, in handle_user_exception
    reraise(exc_type, exc_value, tb)
  File "D:\python3\lib\site-packages\flask\_compat.py", line 39, in reraise
    raise value
  File "D:\python3\lib\site-packages\flask\app.py", line 1950, in full_dispatch_request
    rv = self.dispatch_request()
  File "D:\python3\lib\site-packages\flask\app.py", line 1936, in dispatch_request
    return self.view_functions[rule.endpoint](**req.view_args)
  File "F:\python\voteSystem\vote\api_1_0\user.py", line 20, in login
    u = User.objects(Q(username=username) & Q(password=password))
  File "D:\python3\lib\site-packages\mongoengine\queryset\manager.py", line 37, in __get__
    queryset = queryset_class(owner, owner._get_collection())
  File "D:\python3\lib\site-packages\mongoengine\document.py", line 207, in _get_collection
    db = cls._get_db()
  File "D:\python3\lib\site-packages\mongoengine\document.py", line 185, in _get_db
    return get_db(cls._meta.get("db_alias", DEFAULT_CONNECTION_NAME))
  File "D:\python3\lib\site-packages\mongoengine\connection.py", line 368, in get_db
    conn_settings["username"], conn_settings["password"], **auth_kwargs
  File "D:\python3\lib\site-packages\pymongo\database.py", line 1471, in authenticate
    connect=True)
  File "D:\python3\lib\site-packages\pymongo\mongo_client.py", line 750, in _cache_credentials
    writable_preferred_server_selector)
  File "D:\python3\lib\site-packages\pymongo\topology.py", line 235, in select_server
    address))
  File "D:\python3\lib\site-packages\pymongo\topology.py", line 193, in select_servers
    selector, server_timeout, address)
  File "D:\python3\lib\site-packages\pymongo\topology.py", line 209, in _select_servers_loop
    self._error_message(selector))
pymongo.errors.ServerSelectionTimeoutError: No servers found yet
127.0.0.1 - - [17/Jun/2020 20:25:29] "[35m[1mPOST /api/1.0/login HTTP/1.1[0m" 500 -
user login{'username': 'tony', 'password': '123456'}
 * Running on http://127.0.0.1:5000/ (Press CTRL+C to quit)
user login{'username': 'tony', 'password': '123456'}
127.0.0.1 - - [17/Jun/2020 20:28:14] "[37mPOST /api/1.0/login HTTP/1.1[0m" 200 -
 * Running on http://127.0.0.1:5000/ (Press CTRL+C to quit)
user login{'username': 'tony', 'password': '123456'}
127.0.0.1 - - [17/Jun/2020 20:28:36] "[37mPOST /api/1.0/login HTTP/1.1[0m" 200 -
127.0.0.1 - - [17/Jun/2020 20:29:25] "[31m[1mPOST /api/1.0/change_competitor_info HTTP/1.1[0m" 422 -
user login{'username': 'tony', 'password': '123456'}
127.0.0.1 - - [17/Jun/2020 20:29:48] "[37mPOST /api/1.0/login HTTP/1.1[0m" 200 -
Exception on /api/1.0/change_competitor_info [POST]
Traceback (most recent call last):
  File "D:\python3\lib\site-packages\flask\app.py", line 2447, in wsgi_app
    response = self.full_dispatch_request()
  File "D:\python3\lib\site-packages\flask\app.py", line 1952, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "D:\python3\lib\site-packages\flask\app.py", line 1821, in handle_user_exception
    reraise(exc_type, exc_value, tb)
  File "D:\python3\lib\site-packages\flask\_compat.py", line 39, in reraise
    raise value
  File "D:\python3\lib\site-packages\flask\app.py", line 1950, in full_dispatch_request
    rv = self.dispatch_request()
  File "D:\python3\lib\site-packages\flask\app.py", line 1936, in dispatch_request
    return self.view_functions[rule.endpoint](**req.view_args)
  File "D:\python3\lib\site-packages\flask_jwt_extended\view_decorators.py", line 108, in wrapper
    return fn(*args, **kwargs)
  File "F:\python\voteSystem\vote\api_1_0\admin.py", line 49, in change_competitor_info
    count = competitor.objects.get(tel=tel).count()
AttributeError: 'QuerySetManager' object has no attribute 'get'
127.0.0.1 - - [17/Jun/2020 20:30:09] "[35m[1mPOST /api/1.0/change_competitor_info HTTP/1.1[0m" 500 -
 * Running on http://127.0.0.1:5000/ (Press CTRL+C to quit)
Exception on /api/1.0/change_competitor_info [POST]
Traceback (most recent call last):
  File "D:\python3\lib\site-packages\flask\app.py", line 2447, in wsgi_app
    response = self.full_dispatch_request()
  File "D:\python3\lib\site-packages\flask\app.py", line 1952, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "D:\python3\lib\site-packages\flask\app.py", line 1821, in handle_user_exception
    reraise(exc_type, exc_value, tb)
  File "D:\python3\lib\site-packages\flask\_compat.py", line 39, in reraise
    raise value
  File "D:\python3\lib\site-packages\flask\app.py", line 1950, in full_dispatch_request
    rv = self.dispatch_request()
  File "D:\python3\lib\site-packages\flask\app.py", line 1936, in dispatch_request
    return self.view_functions[rule.endpoint](**req.view_args)
  File "D:\python3\lib\site-packages\flask_jwt_extended\view_decorators.py", line 108, in wrapper
    return fn(*args, **kwargs)
  File "F:\python\voteSystem\vote\api_1_0\admin.py", line 49, in change_competitor_info
    count = competitor.objects(tel=tel).count()
TypeError: 'QuerySetManager' object is not callable
127.0.0.1 - - [17/Jun/2020 20:30:53] "[35m[1mPOST /api/1.0/change_competitor_info HTTP/1.1[0m" 500 -
 * Running on http://127.0.0.1:5000/ (Press CTRL+C to quit)
127.0.0.1 - - [17/Jun/2020 20:31:21] "[37mPOST /api/1.0/change_competitor_info HTTP/1.1[0m" 200 -
 * Running on http://127.0.0.1:5000/ (Press CTRL+C to quit)
127.0.0.1 - - [17/Jun/2020 20:34:31] "[37mPOST /api/1.0/apply HTTP/1.1[0m" 200 -
 * Running on http://127.0.0.1:5000/ (Press CTRL+C to quit)
127.0.0.1 - - [17/Jun/2020 20:36:42] "[37mPOST /api/1.0/change_competitor_info HTTP/1.1[0m" 200 -
 * Running on http://127.0.0.1:5000/ (Press CTRL+C to quit)
127.0.0.1 - - [17/Jun/2020 20:37:09] "[37mPOST /api/1.0/change_competitor_info HTTP/1.1[0m" 200 -
 * Running on http://127.0.0.1:5000/ (Press CTRL+C to quit)
 * Running on http://127.0.0.1:5000/ (Press CTRL+C to quit)
127.0.0.1 - - [17/Jun/2020 20:40:19] "[37mPOST /api/1.0/change_competitor_info HTTP/1.1[0m" 200 -
 * Running on http://127.0.0.1:5000/ (Press CTRL+C to quit)
 * Running on http://127.0.0.1:5000/ (Press CTRL+C to quit)
Exception on /api/1.0/change_competitor_info [POST]
Traceback (most recent call last):
  File "D:\python3\lib\site-packages\mongoengine\queryset\base.py", line 260, in get
    result = next(queryset)
  File "D:\python3\lib\site-packages\mongoengine\queryset\base.py", line 1590, in __next__
    raw_doc = next(self._cursor)
  File "D:\python3\lib\site-packages\pymongo\cursor.py", line 1164, in next
    raise StopIteration
StopIteration

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\python3\lib\site-packages\flask\app.py", line 2447, in wsgi_app
    response = self.full_dispatch_request()
  File "D:\python3\lib\site-packages\flask\app.py", line 1952, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "D:\python3\lib\site-packages\flask\app.py", line 1821, in handle_user_exception
    reraise(exc_type, exc_value, tb)
  File "D:\python3\lib\site-packages\flask\_compat.py", line 39, in reraise
    raise value
  File "D:\python3\lib\site-packages\flask\app.py", line 1950, in full_dispatch_request
    rv = self.dispatch_request()
  File "D:\python3\lib\site-packages\flask\app.py", line 1936, in dispatch_request
    return self.view_functions[rule.endpoint](**req.view_args)
  File "D:\python3\lib\site-packages\flask_jwt_extended\view_decorators.py", line 108, in wrapper
    return fn(*args, **kwargs)
  File "F:\python\voteSystem\vote\api_1_0\admin.py", line 41, in change_competitor_info
    competitor = Competitor.objects.get(cid=cid)
  File "D:\python3\lib\site-packages\mongoengine\queryset\base.py", line 263, in get
    raise queryset._document.DoesNotExist(msg)
vote.models.DoesNotExist: Competitor matching query does not exist.
127.0.0.1 - - [17/Jun/2020 20:41:16] "[35m[1mPOST /api/1.0/change_competitor_info HTTP/1.1[0m" 500 -
 * Running on http://127.0.0.1:5000/ (Press CTRL+C to quit)
Exception on /api/1.0/change_competitor_info [POST]
Traceback (most recent call last):
  File "D:\python3\lib\site-packages\mongoengine\queryset\base.py", line 260, in get
    result = next(queryset)
  File "D:\python3\lib\site-packages\mongoengine\queryset\base.py", line 1590, in __next__
    raw_doc = next(self._cursor)
  File "D:\python3\lib\site-packages\pymongo\cursor.py", line 1164, in next
    raise StopIteration
StopIteration

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\python3\lib\site-packages\flask\app.py", line 2447, in wsgi_app
    response = self.full_dispatch_request()
  File "D:\python3\lib\site-packages\flask\app.py", line 1952, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "D:\python3\lib\site-packages\flask\app.py", line 1821, in handle_user_exception
    reraise(exc_type, exc_value, tb)
  File "D:\python3\lib\site-packages\flask\_compat.py", line 39, in reraise
    raise value
  File "D:\python3\lib\site-packages\flask\app.py", line 1950, in full_dispatch_request
    rv = self.dispatch_request()
  File "D:\python3\lib\site-packages\flask\app.py", line 1936, in dispatch_request
    return self.view_functions[rule.endpoint](**req.view_args)
  File "D:\python3\lib\site-packages\flask_jwt_extended\view_decorators.py", line 108, in wrapper
    return fn(*args, **kwargs)
  File "F:\python\voteSystem\vote\api_1_0\admin.py", line 41, in change_competitor_info
    competitor = Competitor.objects.get(cid=cid)
  File "D:\python3\lib\site-packages\mongoengine\queryset\base.py", line 263, in get
    raise queryset._document.DoesNotExist(msg)
vote.models.DoesNotExist: Competitor matching query does not exist.
127.0.0.1 - - [17/Jun/2020 20:42:43] "[35m[1mPOST /api/1.0/change_competitor_info HTTP/1.1[0m" 500 -
127.0.0.1 - - [17/Jun/2020 20:43:17] "[37mPOST /api/1.0/change_competitor_info HTTP/1.1[0m" 200 -
 * Running on http://127.0.0.1:5000/ (Press CTRL+C to quit)
 * Running on http://127.0.0.1:5000/ (Press CTRL+C to quit)
127.0.0.1 - - [17/Jun/2020 20:44:29] "[37mPOST /api/1.0/change_competitor_info HTTP/1.1[0m" 200 -
Exception on /api/1.0/change_competitor_info [POST]
Traceback (most recent call last):
  File "D:\python3\lib\site-packages\mongoengine\queryset\base.py", line 260, in get
    result = next(queryset)
  File "D:\python3\lib\site-packages\mongoengine\queryset\base.py", line 1590, in __next__
    raw_doc = next(self._cursor)
  File "D:\python3\lib\site-packages\pymongo\cursor.py", line 1164, in next
    raise StopIteration
StopIteration

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\python3\lib\site-packages\flask\app.py", line 2447, in wsgi_app
    response = self.full_dispatch_request()
  File "D:\python3\lib\site-packages\flask\app.py", line 1952, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "D:\python3\lib\site-packages\flask\app.py", line 1821, in handle_user_exception
    reraise(exc_type, exc_value, tb)
  File "D:\python3\lib\site-packages\flask\_compat.py", line 39, in reraise
    raise value
  File "D:\python3\lib\site-packages\flask\app.py", line 1950, in full_dispatch_request
    rv = self.dispatch_request()
  File "D:\python3\lib\site-packages\flask\app.py", line 1936, in dispatch_request
    return self.view_functions[rule.endpoint](**req.view_args)
  File "D:\python3\lib\site-packages\flask_jwt_extended\view_decorators.py", line 108, in wrapper
    return fn(*args, **kwargs)
  File "F:\python\voteSystem\vote\api_1_0\admin.py", line 41, in change_competitor_info
    competitor = Competitor.objects.get(cid=cid)
  File "D:\python3\lib\site-packages\mongoengine\queryset\base.py", line 263, in get
    raise queryset._document.DoesNotExist(msg)
vote.models.DoesNotExist: Competitor matching query does not exist.
127.0.0.1 - - [17/Jun/2020 20:44:48] "[35m[1mPOST /api/1.0/change_competitor_info HTTP/1.1[0m" 500 -
 * Running on http://127.0.0.1:5000/ (Press CTRL+C to quit)
127.0.0.1 - - [17/Jun/2020 20:46:00] "[31m[1mPOST /api/1.0/change_competitor_info HTTP/1.1[0m" 401 -
user login{'username': 'tony', 'password': '123456'}
127.0.0.1 - - [17/Jun/2020 20:46:06] "[37mPOST /api/1.0/login HTTP/1.1[0m" 200 -
127.0.0.1 - - [17/Jun/2020 20:46:26] "[37mPOST /api/1.0/change_competitor_info HTTP/1.1[0m" 200 -
 * Running on http://127.0.0.1:5000/ (Press CTRL+C to quit)
127.0.0.1 - - [17/Jun/2020 20:49:15] "[37mPOST /api/1.0/change_competitor_info HTTP/1.1[0m" 200 -
 * Running on http://127.0.0.1:5000/ (Press CTRL+C to quit)
admin change competitor info:tonyid:000002 - nickname:zofun - tel:13778143358 - vote_num:0 - state:join
127.0.0.1 - - [17/Jun/2020 20:49:30] "[37mPOST /api/1.0/change_competitor_info HTTP/1.1[0m" 200 -
 * Running on http://127.0.0.1:5000/ (Press CTRL+C to quit)
 * Running on http://127.0.0.1:5000/ (Press CTRL+C to quit)
 * Running on http://127.0.0.1:5000/ (Press CTRL+C to quit)
 * Running on http://127.0.0.1:5000/ (Press CTRL+C to quit)
 * Running on http://127.0.0.1:5000/ (Press CTRL+C to quit)
Exception on /api/1.0/ [GET]
Traceback (most recent call last):
  File "D:\python3\lib\site-packages\flask\app.py", line 2447, in wsgi_app
    response = self.full_dispatch_request()
  File "D:\python3\lib\site-packages\flask\app.py", line 1952, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "D:\python3\lib\site-packages\flask\app.py", line 1821, in handle_user_exception
    reraise(exc_type, exc_value, tb)
  File "D:\python3\lib\site-packages\flask\_compat.py", line 39, in reraise
    raise value
  File "D:\python3\lib\site-packages\flask\app.py", line 1950, in full_dispatch_request
    rv = self.dispatch_request()
  File "D:\python3\lib\site-packages\flask\app.py", line 1936, in dispatch_request
    return self.view_functions[rule.endpoint](**req.view_args)
  File "F:\python\voteSystem\vote\api_1_0\user.py", line 73, in index
    return jsonify({'u': User.objects.all(), 'c': Competitor.objects.all(),'r':redis_conn.zrange('rank_list', 0, 5)})
AttributeError: 'NoneType' object has no attribute 'zrange'
127.0.0.1 - - [18/Jun/2020 09:00:51] "[35m[1mGET /api/1.0/ HTTP/1.1[0m" 500 -
127.0.0.1 - - [18/Jun/2020 09:00:51] "[33mGET /favicon.ico HTTP/1.1[0m" 404 -
 * Running on http://127.0.0.1:5000/ (Press CTRL+C to quit)
127.0.0.1 - - [18/Jun/2020 09:01:35] "[37mGET /api/1.0/ HTTP/1.1[0m" 200 -
 * Running on http://127.0.0.1:5000/ (Press CTRL+C to quit)
127.0.0.1 - - [18/Jun/2020 09:20:51] "[37mGET /api/1.0/ HTTP/1.1[0m" 200 -
 * Running on http://127.0.0.1:5000/ (Press CTRL+C to quit)
127.0.0.1 - - [18/Jun/2020 09:21:21] "[37mGET /api/1.0/ HTTP/1.1[0m" 200 -
 * Running on http://127.0.0.1:5000/ (Press CTRL+C to quit)
127.0.0.1 - - [18/Jun/2020 09:51:11] "[37mGET /api/1.0/ HTTP/1.1[0m" 200 -
 * Running on http://127.0.0.1:5000/ (Press CTRL+C to quit)
 * Running on http://127.0.0.1:5000/ (Press CTRL+C to quit)
load data to redis
Exception on /api/1.0/load [GET]
Traceback (most recent call last):
  File "D:\python3\lib\site-packages\flask\app.py", line 2447, in wsgi_app
    response = self.full_dispatch_request()
  File "D:\python3\lib\site-packages\flask\app.py", line 1953, in full_dispatch_request
    return self.finalize_request(rv)
  File "D:\python3\lib\site-packages\flask\app.py", line 1968, in finalize_request
    response = self.make_response(rv)
  File "D:\python3\lib\site-packages\flask\app.py", line 2098, in make_response
    "The view function did not return a valid response. The"
TypeError: The view function did not return a valid response. The function either returned None or ended without a return statement.
127.0.0.1 - - [18/Jun/2020 10:35:43] "[35m[1mGET /api/1.0/load HTTP/1.1[0m" 500 -
 * Running on http://127.0.0.1:5000/ (Press CTRL+C to quit)
load data to redis
127.0.0.1 - - [18/Jun/2020 10:36:34] "[37mGET /api/1.0/load HTTP/1.1[0m" 200 -
 * Running on http://127.0.0.1:5000/ (Press CTRL+C to quit)
127.0.0.1 - - [18/Jun/2020 10:44:35] "[37mGET /api/1.0/vote/000001/1 HTTP/1.1[0m" 200 -
127.0.0.1 - - [18/Jun/2020 10:44:54] "[37mGET /api/1.0/vote/000002/1 HTTP/1.1[0m" 200 -
 * Running on http://127.0.0.1:5000/ (Press CTRL+C to quit)
load data to redis
127.0.0.1 - - [18/Jun/2020 10:50:13] "[37mGET /api/1.0/load HTTP/1.1[0m" 200 -
127.0.0.1 - - [18/Jun/2020 10:53:02] "[37mGET /api/1.0/vote/000002/1 HTTP/1.1[0m" 200 -
Exception on /api/1.0/vote/000006/1 [GET]
Traceback (most recent call last):
  File "D:\python3\lib\site-packages\flask\app.py", line 2447, in wsgi_app
    response = self.full_dispatch_request()
  File "D:\python3\lib\site-packages\flask\app.py", line 1952, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "D:\python3\lib\site-packages\flask\app.py", line 1821, in handle_user_exception
    reraise(exc_type, exc_value, tb)
  File "D:\python3\lib\site-packages\flask\_compat.py", line 39, in reraise
    raise value
  File "D:\python3\lib\site-packages\flask\app.py", line 1950, in full_dispatch_request
    rv = self.dispatch_request()
  File "D:\python3\lib\site-packages\flask\app.py", line 1936, in dispatch_request
    return self.view_functions[rule.endpoint](**req.view_args)
  File "F:\python\voteSystem\vote\api_1_0\vote.py", line 12, in vote
    dict_json = json.loads(competitor_info)
  File "D:\python3\lib\json\__init__.py", line 341, in loads
    raise TypeError(f'the JSON object must be str, bytes or bytearray, '
TypeError: the JSON object must be str, bytes or bytearray, not NoneType
127.0.0.1 - - [18/Jun/2020 10:53:06] "[35m[1mGET /api/1.0/vote/000006/1 HTTP/1.1[0m" 500 -
 * Running on http://127.0.0.1:5000/ (Press CTRL+C to quit)
127.0.0.1 - - [18/Jun/2020 10:54:02] "[37mGET /api/1.0/vote/000006/1 HTTP/1.1[0m" 200 -
 * Running on http://127.0.0.1:5000/ (Press CTRL+C to quit)
Exception on /api/1.0/vote/000001/1 [GET]
Traceback (most recent call last):
  File "D:\python3\lib\site-packages\flask\app.py", line 2447, in wsgi_app
    response = self.full_dispatch_request()
  File "D:\python3\lib\site-packages\flask\app.py", line 1952, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "D:\python3\lib\site-packages\flask\app.py", line 1821, in handle_user_exception
    reraise(exc_type, exc_value, tb)
  File "D:\python3\lib\site-packages\flask\_compat.py", line 39, in reraise
    raise value
  File "D:\python3\lib\site-packages\flask\app.py", line 1950, in full_dispatch_request
    rv = self.dispatch_request()
  File "D:\python3\lib\site-packages\flask\app.py", line 1936, in dispatch_request
    return self.view_functions[rule.endpoint](**req.view_args)
  File "F:\python\voteSystem\vote\api_1_0\vote.py", line 16, in vote
    return dict.nickname
AttributeError: type object 'dict' has no attribute 'nickname'
127.0.0.1 - - [18/Jun/2020 10:54:42] "[35m[1mGET /api/1.0/vote/000001/1 HTTP/1.1[0m" 500 -
 * Running on http://127.0.0.1:5000/ (Press CTRL+C to quit)
Exception on /api/1.0/vote/000001/1 [GET]
Traceback (most recent call last):
  File "D:\python3\lib\site-packages\flask\app.py", line 2447, in wsgi_app
    response = self.full_dispatch_request()
  File "D:\python3\lib\site-packages\flask\app.py", line 1952, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "D:\python3\lib\site-packages\flask\app.py", line 1821, in handle_user_exception
    reraise(exc_type, exc_value, tb)
  File "D:\python3\lib\site-packages\flask\_compat.py", line 39, in reraise
    raise value
  File "D:\python3\lib\site-packages\flask\app.py", line 1950, in full_dispatch_request
    rv = self.dispatch_request()
  File "D:\python3\lib\site-packages\flask\app.py", line 1936, in dispatch_request
    return self.view_functions[rule.endpoint](**req.view_args)
  File "F:\python\voteSystem\vote\api_1_0\vote.py", line 16, in vote
    return dict['nickname']
TypeError: 'type' object is not subscriptable
127.0.0.1 - - [18/Jun/2020 10:55:19] "[35m[1mGET /api/1.0/vote/000001/1 HTTP/1.1[0m" 500 -
Exception on /api/1.0/vote/000001/1 [GET]
Traceback (most recent call last):
  File "D:\python3\lib\site-packages\flask\app.py", line 2447, in wsgi_app
    response = self.full_dispatch_request()
  File "D:\python3\lib\site-packages\flask\app.py", line 1952, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "D:\python3\lib\site-packages\flask\app.py", line 1821, in handle_user_exception
    reraise(exc_type, exc_value, tb)
  File "D:\python3\lib\site-packages\flask\_compat.py", line 39, in reraise
    raise value
  File "D:\python3\lib\site-packages\flask\app.py", line 1950, in full_dispatch_request
    rv = self.dispatch_request()
  File "D:\python3\lib\site-packages\flask\app.py", line 1936, in dispatch_request
    return self.view_functions[rule.endpoint](**req.view_args)
  File "F:\python\voteSystem\vote\api_1_0\vote.py", line 16, in vote
    return dict['nickname']
TypeError: 'type' object is not subscriptable
127.0.0.1 - - [18/Jun/2020 10:55:20] "[35m[1mGET /api/1.0/vote/000001/1 HTTP/1.1[0m" 500 -
 * Running on http://127.0.0.1:5000/ (Press CTRL+C to quit)
Exception on /api/1.0/vote/000001/1 [GET]
Traceback (most recent call last):
  File "D:\python3\lib\site-packages\flask\app.py", line 2447, in wsgi_app
    response = self.full_dispatch_request()
  File "D:\python3\lib\site-packages\flask\app.py", line 1952, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "D:\python3\lib\site-packages\flask\app.py", line 1821, in handle_user_exception
    reraise(exc_type, exc_value, tb)
  File "D:\python3\lib\site-packages\flask\_compat.py", line 39, in reraise
    raise value
  File "D:\python3\lib\site-packages\flask\app.py", line 1950, in full_dispatch_request
    rv = self.dispatch_request()
  File "D:\python3\lib\site-packages\flask\app.py", line 1936, in dispatch_request
    return self.view_functions[rule.endpoint](**req.view_args)
  File "F:\python\voteSystem\vote\api_1_0\vote.py", line 17, in vote
    return dict['nickname']
TypeError: 'type' object is not subscriptable
127.0.0.1 - - [18/Jun/2020 10:56:10] "[35m[1mGET /api/1.0/vote/000001/1 HTTP/1.1[0m" 500 -
 * Running on http://127.0.0.1:5000/ (Press CTRL+C to quit)
127.0.0.1 - - [18/Jun/2020 10:56:40] "[37mGET /api/1.0/vote/000001/1 HTTP/1.1[0m" 200 -
 * Running on http://127.0.0.1:5000/ (Press CTRL+C to quit)
user login{'username': 'tony', 'password': '123456'}
127.0.0.1 - - [18/Jun/2020 11:19:26] "[37mPOST /api/1.0/login HTTP/1.1[0m" 200 -
127.0.0.1 - - [18/Jun/2020 11:20:27] "[33mGET /api/1.0/vote/000001/ HTTP/1.1[0m" 404 -
127.0.0.1 - - [18/Jun/2020 11:20:34] "[37mGET /api/1.0/vote/000001 HTTP/1.1[0m" 200 -
127.0.0.1 - - [18/Jun/2020 11:20:35] "[37mGET /api/1.0/vote/000001 HTTP/1.1[0m" 200 -
127.0.0.1 - - [18/Jun/2020 11:20:42] "[37mGET /api/1.0/vote/000002 HTTP/1.1[0m" 200 -
 * Running on http://127.0.0.1:5000/ (Press CTRL+C to quit)
load data to redis
127.0.0.1 - - [18/Jun/2020 11:28:24] "[37mGET /api/1.0/load HTTP/1.1[0m" 200 -
127.0.0.1 - - [18/Jun/2020 11:28:45] "[37mGET /api/1.0/vote/000002 HTTP/1.1[0m" 200 -
127.0.0.1 - - [18/Jun/2020 11:28:54] "[37mGET /api/1.0/vote/000002 HTTP/1.1[0m" 200 -
127.0.0.1 - - [18/Jun/2020 11:29:00] "[37mGET /api/1.0/vote/000001 HTTP/1.1[0m" 200 -
127.0.0.1 - - [18/Jun/2020 11:29:03] "[37mGET /api/1.0/vote/000001 HTTP/1.1[0m" 200 -
127.0.0.1 - - [18/Jun/2020 11:29:04] "[37mGET /api/1.0/vote/000001 HTTP/1.1[0m" 200 -
127.0.0.1 - - [18/Jun/2020 11:29:05] "[37mGET /api/1.0/vote/000001 HTTP/1.1[0m" 200 -
127.0.0.1 - - [18/Jun/2020 11:29:05] "[37mGET /api/1.0/vote/000001 HTTP/1.1[0m" 200 -
127.0.0.1 - - [18/Jun/2020 11:29:05] "[37mGET /api/1.0/vote/000001 HTTP/1.1[0m" 200 -
127.0.0.1 - - [18/Jun/2020 11:29:06] "[37mGET /api/1.0/vote/000001 HTTP/1.1[0m" 200 -
127.0.0.1 - - [18/Jun/2020 11:29:06] "[37mGET /api/1.0/vote/000001 HTTP/1.1[0m" 200 -
127.0.0.1 - - [18/Jun/2020 11:29:06] "[37mGET /api/1.0/vote/000001 HTTP/1.1[0m" 200 -
127.0.0.1 - - [18/Jun/2020 11:29:06] "[37mGET /api/1.0/vote/000001 HTTP/1.1[0m" 200 -
127.0.0.1 - - [18/Jun/2020 11:29:06] "[37mGET /api/1.0/vote/000001 HTTP/1.1[0m" 200 -
 * Running on http://127.0.0.1:5000/ (Press CTRL+C to quit)
load data to redis
Exception on /api/1.0/load [GET]
Traceback (most recent call last):
  File "D:\python3\lib\site-packages\flask\app.py", line 2447, in wsgi_app
    response = self.full_dispatch_request()
  File "D:\python3\lib\site-packages\flask\app.py", line 1952, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "D:\python3\lib\site-packages\flask\app.py", line 1821, in handle_user_exception
    reraise(exc_type, exc_value, tb)
  File "D:\python3\lib\site-packages\flask\_compat.py", line 39, in reraise
    raise value
  File "D:\python3\lib\site-packages\flask\app.py", line 1950, in full_dispatch_request
    rv = self.dispatch_request()
  File "D:\python3\lib\site-packages\flask\app.py", line 1936, in dispatch_request
    return self.view_functions[rule.endpoint](**req.view_args)
  File "F:\python\voteSystem\vote\api_1_0\user.py", line 79, in load
    load_data_to_redis()
  File "F:\python\voteSystem\vote\__init__.py", line 52, in load_data_to_redis
    redis_conn.sadd(REDIS_VOTE_PREFIX + item.cid, u)
  File "D:\python3\lib\site-packages\redis\client.py", line 2243, in sadd
    return self.execute_command('SADD', name, *values)
  File "D:\python3\lib\site-packages\redis\client.py", line 900, in execute_command
    conn.send_command(*args)
  File "D:\python3\lib\site-packages\redis\connection.py", line 725, in send_command
    self.send_packed_command(self.pack_command(*args),
  File "D:\python3\lib\site-packages\redis\connection.py", line 775, in pack_command
    for arg in imap(self.encoder.encode, args):
  File "D:\python3\lib\site-packages\redis\connection.py", line 120, in encode
    "bytes, string, int or float first." % typename)
redis.exceptions.DataError: Invalid input of type: 'NoneType'. Convert to a bytes, string, int or float first.
127.0.0.1 - - [18/Jun/2020 14:25:01] "[35m[1mGET /api/1.0/load HTTP/1.1[0m" 500 -
user login{'username': 'tony', 'password': '123456'}
127.0.0.1 - - [18/Jun/2020 14:25:13] "[37mPOST /api/1.0/login HTTP/1.1[0m" 200 -
Exception on /api/1.0/vote/000001 [GET]
Traceback (most recent call last):
  File "D:\python3\lib\site-packages\flask\app.py", line 2447, in wsgi_app
    response = self.full_dispatch_request()
  File "D:\python3\lib\site-packages\flask\app.py", line 1952, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "D:\python3\lib\site-packages\flask\app.py", line 1821, in handle_user_exception
    reraise(exc_type, exc_value, tb)
  File "D:\python3\lib\site-packages\flask\_compat.py", line 39, in reraise
    raise value
  File "D:\python3\lib\site-packages\flask\app.py", line 1950, in full_dispatch_request
    rv = self.dispatch_request()
  File "D:\python3\lib\site-packages\flask\app.py", line 1936, in dispatch_request
    return self.view_functions[rule.endpoint](**req.view_args)
  File "D:\python3\lib\site-packages\flask_jwt_extended\view_decorators.py", line 108, in wrapper
    return fn(*args, **kwargs)
  File "F:\python\voteSystem\vote\api_1_0\vote.py", line 19, in vote
    if 'out'.__eq__(dict_json['state']):
KeyError: 'state'
127.0.0.1 - - [18/Jun/2020 14:25:30] "[35m[1mGET /api/1.0/vote/000001 HTTP/1.1[0m" 500 -
 * Running on http://127.0.0.1:5000/ (Press CTRL+C to quit)
127.0.0.1 - - [18/Jun/2020 14:33:31] "[37mGET /api/1.0/vote/000001 HTTP/1.1[0m" 200 -
127.0.0.1 - - [18/Jun/2020 14:33:33] "[37mGET /api/1.0/vote/000001 HTTP/1.1[0m" 200 -
127.0.0.1 - - [18/Jun/2020 14:33:33] "[37mGET /api/1.0/vote/000001 HTTP/1.1[0m" 200 -
127.0.0.1 - - [18/Jun/2020 14:33:34] "[37mGET /api/1.0/vote/000001 HTTP/1.1[0m" 200 -
127.0.0.1 - - [18/Jun/2020 14:33:34] "[37mGET /api/1.0/vote/000001 HTTP/1.1[0m" 200 -
127.0.0.1 - - [18/Jun/2020 14:33:34] "[37mGET /api/1.0/vote/000001 HTTP/1.1[0m" 200 -
127.0.0.1 - - [18/Jun/2020 14:33:34] "[37mGET /api/1.0/vote/000001 HTTP/1.1[0m" 200 -
127.0.0.1 - - [18/Jun/2020 14:33:35] "[37mGET /api/1.0/vote/000001 HTTP/1.1[0m" 200 -
127.0.0.1 - - [18/Jun/2020 14:33:35] "[37mGET /api/1.0/vote/000001 HTTP/1.1[0m" 200 -
127.0.0.1 - - [18/Jun/2020 14:33:35] "[37mGET /api/1.0/vote/000001 HTTP/1.1[0m" 200 -
127.0.0.1 - - [18/Jun/2020 14:33:35] "[37mGET /api/1.0/vote/000001 HTTP/1.1[0m" 200 -
127.0.0.1 - - [18/Jun/2020 14:33:35] "[37mGET /api/1.0/vote/000001 HTTP/1.1[0m" 200 -
127.0.0.1 - - [18/Jun/2020 14:40:10] "[37mGET /api/1.0/vote/000003 HTTP/1.1[0m" 200 -
127.0.0.1 - - [18/Jun/2020 14:40:34] "[31m[1mGET /api/1.0/vote/000002 HTTP/1.1[0m" 401 -
user login{'username': 'tony', 'password': '123456'}
127.0.0.1 - - [18/Jun/2020 14:40:42] "[37mPOST /api/1.0/login HTTP/1.1[0m" 200 -
127.0.0.1 - - [18/Jun/2020 14:40:59] "[37mGET /api/1.0/vote/000002 HTTP/1.1[0m" 200 -
127.0.0.1 - - [18/Jun/2020 14:41:14] "[37mGET /api/1.0/vote/000002 HTTP/1.1[0m" 200 -
 * Running on http://127.0.0.1:5000/ (Press CTRL+C to quit)
127.0.0.1 - - [18/Jun/2020 14:53:29] "[37mGET /api/1.0/ HTTP/1.1[0m" 200 -
Exception on /api/1.0/get_ranking_list/1/2 [GET]
Traceback (most recent call last):
  File "D:\python3\lib\site-packages\flask\app.py", line 2447, in wsgi_app
    response = self.full_dispatch_request()
  File "D:\python3\lib\site-packages\flask\app.py", line 1952, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "D:\python3\lib\site-packages\flask\app.py", line 1821, in handle_user_exception
    reraise(exc_type, exc_value, tb)
  File "D:\python3\lib\site-packages\flask\_compat.py", line 39, in reraise
    raise value
  File "D:\python3\lib\site-packages\flask\app.py", line 1950, in full_dispatch_request
    rv = self.dispatch_request()
  File "D:\python3\lib\site-packages\flask\app.py", line 1936, in dispatch_request
    return self.view_functions[rule.endpoint](**req.view_args)
  File "F:\python\voteSystem\vote\api_1_0\vote.py", line 34, in get_ranking_list
    rank_list=redis_conn.zrange(REDIS_RANKING_LIST_KEY,(page-1)*limit,page*limit)
TypeError: unsupported operand type(s) for -: 'str' and 'int'
127.0.0.1 - - [18/Jun/2020 14:53:36] "[35m[1mGET /api/1.0/get_ranking_list/1/2 HTTP/1.1[0m" 500 -
 * Running on http://127.0.0.1:5000/ (Press CTRL+C to quit)
127.0.0.1 - - [18/Jun/2020 14:54:24] "[37mGET /api/1.0/get_ranking_list/1/2 HTTP/1.1[0m" 200 -
127.0.0.1 - - [18/Jun/2020 14:54:29] "[37mGET /api/1.0/get_ranking_list/1/1 HTTP/1.1[0m" 200 -
127.0.0.1 - - [18/Jun/2020 14:54:35] "[37mGET /api/1.0/get_ranking_list/2/1 HTTP/1.1[0m" 200 -
127.0.0.1 - - [18/Jun/2020 14:54:42] "[37mGET /api/1.0/get_ranking_list/2/1 HTTP/1.1[0m" 200 -
 * Running on http://127.0.0.1:5000/ (Press CTRL+C to quit)
127.0.0.1 - - [18/Jun/2020 14:56:19] "[37mGET /api/1.0/get_ranking_list/2/1 HTTP/1.1[0m" 200 -
127.0.0.1 - - [18/Jun/2020 14:56:26] "[37mGET /api/1.0/get_ranking_list/1/2 HTTP/1.1[0m" 200 -
127.0.0.1 - - [18/Jun/2020 14:56:54] "[37mGET /api/1.0/get_ranking_list/1/2 HTTP/1.1[0m" 200 -
 * Running on http://127.0.0.1:5000/ (Press CTRL+C to quit)
Exception on /api/1.0/get_ranking_list/1/2 [GET]
Traceback (most recent call last):
  File "D:\python3\lib\site-packages\flask\app.py", line 2447, in wsgi_app
    response = self.full_dispatch_request()
  File "D:\python3\lib\site-packages\flask\app.py", line 1952, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "D:\python3\lib\site-packages\flask\app.py", line 1821, in handle_user_exception
    reraise(exc_type, exc_value, tb)
  File "D:\python3\lib\site-packages\flask\_compat.py", line 39, in reraise
    raise value
  File "D:\python3\lib\site-packages\flask\app.py", line 1950, in full_dispatch_request
    rv = self.dispatch_request()
  File "D:\python3\lib\site-packages\flask\app.py", line 1936, in dispatch_request
    return self.view_functions[rule.endpoint](**req.view_args)
  File "F:\python\voteSystem\vote\api_1_0\vote.py", line 35, in get_ranking_list
    res_json=json.dump({})
TypeError: dump() missing 1 required positional argument: 'fp'
127.0.0.1 - - [18/Jun/2020 15:09:11] "[35m[1mGET /api/1.0/get_ranking_list/1/2 HTTP/1.1[0m" 500 -
 * Running on http://127.0.0.1:5000/ (Press CTRL+C to quit)
Exception on /api/1.0/get_ranking_list/1/2 [GET]
Traceback (most recent call last):
  File "D:\python3\lib\site-packages\flask\app.py", line 2447, in wsgi_app
    response = self.full_dispatch_request()
  File "D:\python3\lib\site-packages\flask\app.py", line 1952, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "D:\python3\lib\site-packages\flask\app.py", line 1821, in handle_user_exception
    reraise(exc_type, exc_value, tb)
  File "D:\python3\lib\site-packages\flask\_compat.py", line 39, in reraise
    raise value
  File "D:\python3\lib\site-packages\flask\app.py", line 1950, in full_dispatch_request
    rv = self.dispatch_request()
  File "D:\python3\lib\site-packages\flask\app.py", line 1936, in dispatch_request
    return self.view_functions[rule.endpoint](**req.view_args)
  File "F:\python\voteSystem\vote\api_1_0\vote.py", line 37, in get_ranking_list
    res_json['count']=len(rank_list)
TypeError: 'str' object does not support item assignment
127.0.0.1 - - [18/Jun/2020 15:09:37] "[35m[1mGET /api/1.0/get_ranking_list/1/2 HTTP/1.1[0m" 500 -
 * Running on http://127.0.0.1:5000/ (Press CTRL+C to quit)
Exception on /api/1.0/get_ranking_list/1/2 [GET]
Traceback (most recent call last):
  File "D:\python3\lib\site-packages\flask\app.py", line 2447, in wsgi_app
    response = self.full_dispatch_request()
  File "D:\python3\lib\site-packages\flask\app.py", line 1952, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "D:\python3\lib\site-packages\flask\app.py", line 1821, in handle_user_exception
    reraise(exc_type, exc_value, tb)
  File "D:\python3\lib\site-packages\flask\_compat.py", line 39, in reraise
    raise value
  File "D:\python3\lib\site-packages\flask\app.py", line 1950, in full_dispatch_request
    rv = self.dispatch_request()
  File "D:\python3\lib\site-packages\flask\app.py", line 1936, in dispatch_request
    return self.view_functions[rule.endpoint](**req.view_args)
  File "F:\python\voteSystem\vote\api_1_0\vote.py", line 41, in get_ranking_list
    data.append(competitor_info)
AttributeError: 'dict' object has no attribute 'append'
127.0.0.1 - - [18/Jun/2020 15:11:01] "[35m[1mGET /api/1.0/get_ranking_list/1/2 HTTP/1.1[0m" 500 -
 * Running on http://127.0.0.1:5000/ (Press CTRL+C to quit)
127.0.0.1 - - [18/Jun/2020 15:11:32] "[37mGET /api/1.0/get_ranking_list/1/2 HTTP/1.1[0m" 200 -
 * Running on http://127.0.0.1:5000/ (Press CTRL+C to quit)
Exception on /api/1.0/get_ranking_list/1/2 [GET]
Traceback (most recent call last):
  File "D:\python3\lib\site-packages\flask\app.py", line 2447, in wsgi_app
    response = self.full_dispatch_request()
  File "D:\python3\lib\site-packages\flask\app.py", line 1952, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "D:\python3\lib\site-packages\flask\app.py", line 1821, in handle_user_exception
    reraise(exc_type, exc_value, tb)
  File "D:\python3\lib\site-packages\flask\_compat.py", line 39, in reraise
    raise value
  File "D:\python3\lib\site-packages\flask\app.py", line 1950, in full_dispatch_request
    rv = self.dispatch_request()
  File "D:\python3\lib\site-packages\flask\app.py", line 1936, in dispatch_request
    return self.view_functions[rule.endpoint](**req.view_args)
  File "F:\python\voteSystem\vote\api_1_0\vote.py", line 41, in get_ranking_list
    data.append(json.load(competitor_info))
  File "D:\python3\lib\json\__init__.py", line 293, in load
    return loads(fp.read(),
AttributeError: 'str' object has no attribute 'read'
127.0.0.1 - - [18/Jun/2020 15:12:29] "[35m[1mGET /api/1.0/get_ranking_list/1/2 HTTP/1.1[0m" 500 -
 * Running on http://127.0.0.1:5000/ (Press CTRL+C to quit)
127.0.0.1 - - [18/Jun/2020 15:13:36] "[37mGET /api/1.0/get_ranking_list/1/2 HTTP/1.1[0m" 200 -
127.0.0.1 - - [18/Jun/2020 15:14:40] "[37mGET /api/1.0/get_ranking_list/1/1 HTTP/1.1[0m" 200 -
127.0.0.1 - - [18/Jun/2020 15:14:42] "[37mGET /api/1.0/get_ranking_list/1/1 HTTP/1.1[0m" 200 -
127.0.0.1 - - [18/Jun/2020 15:14:46] "[37mGET /api/1.0/get_ranking_list/1/1 HTTP/1.1[0m" 200 -
 * Running on http://127.0.0.1:5000/ (Press CTRL+C to quit)
127.0.0.1 - - [18/Jun/2020 15:15:35] "[37mGET /api/1.0/get_ranking_list/1/1 HTTP/1.1[0m" 200 -
 * Running on http://127.0.0.1:5000/ (Press CTRL+C to quit)
127.0.0.1 - - [18/Jun/2020 15:16:20] "[37mGET /api/1.0/get_ranking_list/1/1 HTTP/1.1[0m" 200 -
127.0.0.1 - - [18/Jun/2020 15:16:29] "[37mGET /api/1.0/get_ranking_list/1/0 HTTP/1.1[0m" 200 -
127.0.0.1 - - [18/Jun/2020 15:20:37] "[37mGET /api/1.0/get_ranking_list/1/2 HTTP/1.1[0m" 200 -
127.0.0.1 - - [18/Jun/2020 15:20:41] "[37mGET /api/1.0/get_ranking_list/1/1 HTTP/1.1[0m" 200 -
 * Running on http://127.0.0.1:5000/ (Press CTRL+C to quit)
127.0.0.1 - - [18/Jun/2020 15:21:01] "[37mGET /api/1.0/get_ranking_list/1/1 HTTP/1.1[0m" 200 -
127.0.0.1 - - [18/Jun/2020 15:21:04] "[37mGET /api/1.0/get_ranking_list/1/2 HTTP/1.1[0m" 200 -
 * Running on http://127.0.0.1:5000/ (Press CTRL+C to quit)
127.0.0.1 - - [18/Jun/2020 15:22:19] "[37mGET /api/1.0/get_ranking_list/1/2 HTTP/1.1[0m" 200 -
 * Running on http://127.0.0.1:5000/ (Press CTRL+C to quit)
user login{'username': 'tony', 'password': '123456'}
127.0.0.1 - - [18/Jun/2020 17:09:39] "[37mPOST /api/1.0/login HTTP/1.1[0m" 200 -
Exception on /api/1.0/add_vote [POST]
Traceback (most recent call last):
  File "D:\python3\lib\site-packages\flask\app.py", line 2117, in make_response
    rv = self.response_class.force_type(rv, request.environ)
  File "D:\python3\lib\site-packages\werkzeug\wrappers\base_response.py", line 269, in force_type
    response = BaseResponse(*_run_wsgi_app(response, environ))
  File "D:\python3\lib\site-packages\werkzeug\wrappers\base_response.py", line 26, in _run_wsgi_app
    return _run_wsgi_app(*args)
  File "D:\python3\lib\site-packages\werkzeug\test.py", line 1096, in run_wsgi_app
    app_rv = app(environ, start_response)
  File "D:\python3\lib\site-packages\flask_jwt_extended\view_decorators.py", line 108, in wrapper
    return fn(*args, **kwargs)
TypeError: 'dict' object is not callable

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\python3\lib\site-packages\flask\app.py", line 2447, in wsgi_app
    response = self.full_dispatch_request()
  File "D:\python3\lib\site-packages\flask\app.py", line 1953, in full_dispatch_request
    return self.finalize_request(rv)
  File "D:\python3\lib\site-packages\flask\app.py", line 1968, in finalize_request
    response = self.make_response(rv)
  File "D:\python3\lib\site-packages\flask\app.py", line 2125, in make_response
    reraise(TypeError, new_error, sys.exc_info()[2])
  File "D:\python3\lib\site-packages\flask\_compat.py", line 38, in reraise
    raise value.with_traceback(tb)
  File "D:\python3\lib\site-packages\flask\app.py", line 2117, in make_response
    rv = self.response_class.force_type(rv, request.environ)
  File "D:\python3\lib\site-packages\werkzeug\wrappers\base_response.py", line 269, in force_type
    response = BaseResponse(*_run_wsgi_app(response, environ))
  File "D:\python3\lib\site-packages\werkzeug\wrappers\base_response.py", line 26, in _run_wsgi_app
    return _run_wsgi_app(*args)
  File "D:\python3\lib\site-packages\werkzeug\test.py", line 1096, in run_wsgi_app
    app_rv = app(environ, start_response)
  File "D:\python3\lib\site-packages\flask_jwt_extended\view_decorators.py", line 108, in wrapper
    return fn(*args, **kwargs)
TypeError: 'dict' object is not callable
The view function did not return a valid response. The return type must be a string, dict, tuple, Response instance, or WSGI callable, but it was a function.
127.0.0.1 - - [18/Jun/2020 17:09:57] "[35m[1mPOST /api/1.0/add_vote HTTP/1.1[0m" 500 -
 * Running on http://127.0.0.1:5000/ (Press CTRL+C to quit)
Exception on /api/1.0/add_vote [POST]
Traceback (most recent call last):
  File "D:\python3\lib\site-packages\flask\app.py", line 2117, in make_response
    rv = self.response_class.force_type(rv, request.environ)
  File "D:\python3\lib\site-packages\werkzeug\wrappers\base_response.py", line 269, in force_type
    response = BaseResponse(*_run_wsgi_app(response, environ))
  File "D:\python3\lib\site-packages\werkzeug\wrappers\base_response.py", line 26, in _run_wsgi_app
    return _run_wsgi_app(*args)
  File "D:\python3\lib\site-packages\werkzeug\test.py", line 1096, in run_wsgi_app
    app_rv = app(environ, start_response)
  File "D:\python3\lib\site-packages\flask_jwt_extended\view_decorators.py", line 108, in wrapper
    return fn(*args, **kwargs)
TypeError: 'dict' object is not callable

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\python3\lib\site-packages\flask\app.py", line 2447, in wsgi_app
    response = self.full_dispatch_request()
  File "D:\python3\lib\site-packages\flask\app.py", line 1953, in full_dispatch_request
    return self.finalize_request(rv)
  File "D:\python3\lib\site-packages\flask\app.py", line 1968, in finalize_request
    response = self.make_response(rv)
  File "D:\python3\lib\site-packages\flask\app.py", line 2125, in make_response
    reraise(TypeError, new_error, sys.exc_info()[2])
  File "D:\python3\lib\site-packages\flask\_compat.py", line 38, in reraise
    raise value.with_traceback(tb)
  File "D:\python3\lib\site-packages\flask\app.py", line 2117, in make_response
    rv = self.response_class.force_type(rv, request.environ)
  File "D:\python3\lib\site-packages\werkzeug\wrappers\base_response.py", line 269, in force_type
    response = BaseResponse(*_run_wsgi_app(response, environ))
  File "D:\python3\lib\site-packages\werkzeug\wrappers\base_response.py", line 26, in _run_wsgi_app
    return _run_wsgi_app(*args)
  File "D:\python3\lib\site-packages\werkzeug\test.py", line 1096, in run_wsgi_app
    app_rv = app(environ, start_response)
  File "D:\python3\lib\site-packages\flask_jwt_extended\view_decorators.py", line 108, in wrapper
    return fn(*args, **kwargs)
TypeError: 'dict' object is not callable
The view function did not return a valid response. The return type must be a string, dict, tuple, Response instance, or WSGI callable, but it was a function.
127.0.0.1 - - [18/Jun/2020 17:11:55] "[35m[1mPOST /api/1.0/add_vote HTTP/1.1[0m" 500 -
Exception on /api/1.0/add_vote [POST]
Traceback (most recent call last):
  File "D:\python3\lib\site-packages\flask\app.py", line 2117, in make_response
    rv = self.response_class.force_type(rv, request.environ)
  File "D:\python3\lib\site-packages\werkzeug\wrappers\base_response.py", line 269, in force_type
    response = BaseResponse(*_run_wsgi_app(response, environ))
  File "D:\python3\lib\site-packages\werkzeug\test.py", line 1096, in run_wsgi_app
    app_rv = app(environ, start_response)
  File "D:\python3\lib\site-packages\flask_jwt_extended\view_decorators.py", line 108, in wrapper
    return fn(*args, **kwargs)
TypeError: 'dict' object is not callable

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\python3\lib\site-packages\flask\app.py", line 2447, in wsgi_app
    response = self.full_dispatch_request()
  File "D:\python3\lib\site-packages\flask\app.py", line 1953, in full_dispatch_request
    return self.finalize_request(rv)
  File "D:\python3\lib\site-packages\flask\app.py", line 1968, in finalize_request
    response = self.make_response(rv)
  File "D:\python3\lib\site-packages\flask\app.py", line 2125, in make_response
    reraise(TypeError, new_error, sys.exc_info()[2])
  File "D:\python3\lib\site-packages\flask\_compat.py", line 38, in reraise
    raise value.with_traceback(tb)
  File "D:\python3\lib\site-packages\flask\app.py", line 2117, in make_response
    rv = self.response_class.force_type(rv, request.environ)
  File "D:\python3\lib\site-packages\werkzeug\wrappers\base_response.py", line 269, in force_type
    response = BaseResponse(*_run_wsgi_app(response, environ))
  File "D:\python3\lib\site-packages\werkzeug\test.py", line 1096, in run_wsgi_app
    app_rv = app(environ, start_response)
  File "D:\python3\lib\site-packages\flask_jwt_extended\view_decorators.py", line 108, in wrapper
    return fn(*args, **kwargs)
TypeError: 'dict' object is not callable
The view function did not return a valid response. The return type must be a string, dict, tuple, Response instance, or WSGI callable, but it was a function.
127.0.0.1 - - [18/Jun/2020 17:11:59] "[35m[1mPOST /api/1.0/add_vote HTTP/1.1[0m" 500 -
Exception on /api/1.0/add_vote [POST]
Traceback (most recent call last):
  File "D:\python3\lib\site-packages\flask\app.py", line 2117, in make_response
    rv = self.response_class.force_type(rv, request.environ)
  File "D:\python3\lib\site-packages\werkzeug\wrappers\base_response.py", line 269, in force_type
    response = BaseResponse(*_run_wsgi_app(response, environ))
  File "D:\python3\lib\site-packages\werkzeug\test.py", line 1096, in run_wsgi_app
    app_rv = app(environ, start_response)
  File "D:\python3\lib\site-packages\flask_jwt_extended\view_decorators.py", line 108, in wrapper
    return fn(*args, **kwargs)
TypeError: 'dict' object is not callable

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\python3\lib\site-packages\flask\app.py", line 2447, in wsgi_app
    response = self.full_dispatch_request()
  File "D:\python3\lib\site-packages\flask\app.py", line 1953, in full_dispatch_request
    return self.finalize_request(rv)
  File "D:\python3\lib\site-packages\flask\app.py", line 1968, in finalize_request
    response = self.make_response(rv)
  File "D:\python3\lib\site-packages\flask\app.py", line 2125, in make_response
    reraise(TypeError, new_error, sys.exc_info()[2])
  File "D:\python3\lib\site-packages\flask\_compat.py", line 38, in reraise
    raise value.with_traceback(tb)
  File "D:\python3\lib\site-packages\flask\app.py", line 2117, in make_response
    rv = self.response_class.force_type(rv, request.environ)
  File "D:\python3\lib\site-packages\werkzeug\wrappers\base_response.py", line 269, in force_type
    response = BaseResponse(*_run_wsgi_app(response, environ))
  File "D:\python3\lib\site-packages\werkzeug\test.py", line 1096, in run_wsgi_app
    app_rv = app(environ, start_response)
  File "D:\python3\lib\site-packages\flask_jwt_extended\view_decorators.py", line 108, in wrapper
    return fn(*args, **kwargs)
TypeError: 'dict' object is not callable
The view function did not return a valid response. The return type must be a string, dict, tuple, Response instance, or WSGI callable, but it was a function.
127.0.0.1 - - [18/Jun/2020 17:12:09] "[35m[1mPOST /api/1.0/add_vote HTTP/1.1[0m" 500 -
 * Running on http://127.0.0.1:5000/ (Press CTRL+C to quit)
Exception on /api/1.0/add_vote [POST]
Traceback (most recent call last):
  File "D:\python3\lib\site-packages\flask\app.py", line 2117, in make_response
    rv = self.response_class.force_type(rv, request.environ)
  File "D:\python3\lib\site-packages\werkzeug\wrappers\base_response.py", line 269, in force_type
    response = BaseResponse(*_run_wsgi_app(response, environ))
  File "D:\python3\lib\site-packages\werkzeug\wrappers\base_response.py", line 26, in _run_wsgi_app
    return _run_wsgi_app(*args)
  File "D:\python3\lib\site-packages\werkzeug\test.py", line 1096, in run_wsgi_app
    app_rv = app(environ, start_response)
  File "D:\python3\lib\site-packages\flask_jwt_extended\view_decorators.py", line 108, in wrapper
    return fn(*args, **kwargs)
TypeError: 'dict' object is not callable

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\python3\lib\site-packages\flask\app.py", line 2447, in wsgi_app
    response = self.full_dispatch_request()
  File "D:\python3\lib\site-packages\flask\app.py", line 1953, in full_dispatch_request
    return self.finalize_request(rv)
  File "D:\python3\lib\site-packages\flask\app.py", line 1968, in finalize_request
    response = self.make_response(rv)
  File "D:\python3\lib\site-packages\flask\app.py", line 2125, in make_response
    reraise(TypeError, new_error, sys.exc_info()[2])
  File "D:\python3\lib\site-packages\flask\_compat.py", line 38, in reraise
    raise value.with_traceback(tb)
  File "D:\python3\lib\site-packages\flask\app.py", line 2117, in make_response
    rv = self.response_class.force_type(rv, request.environ)
  File "D:\python3\lib\site-packages\werkzeug\wrappers\base_response.py", line 269, in force_type
    response = BaseResponse(*_run_wsgi_app(response, environ))
  File "D:\python3\lib\site-packages\werkzeug\wrappers\base_response.py", line 26, in _run_wsgi_app
    return _run_wsgi_app(*args)
  File "D:\python3\lib\site-packages\werkzeug\test.py", line 1096, in run_wsgi_app
    app_rv = app(environ, start_response)
  File "D:\python3\lib\site-packages\flask_jwt_extended\view_decorators.py", line 108, in wrapper
    return fn(*args, **kwargs)
TypeError: 'dict' object is not callable
The view function did not return a valid response. The return type must be a string, dict, tuple, Response instance, or WSGI callable, but it was a function.
127.0.0.1 - - [18/Jun/2020 17:13:00] "[35m[1mPOST /api/1.0/add_vote HTTP/1.1[0m" 500 -
 * Running on http://127.0.0.1:5000/ (Press CTRL+C to quit)
127.0.0.1 - - [18/Jun/2020 17:13:31] "[31m[1mPOST /api/1.0/add_vote HTTP/1.1[0m" 400 -
127.0.0.1 - - [18/Jun/2020 17:14:11] "[31m[1mPOST /api/1.0/add_vote HTTP/1.1[0m" 400 -
 * Running on http://127.0.0.1:5000/ (Press CTRL+C to quit)
127.0.0.1 - - [18/Jun/2020 17:14:27] "[31m[1mPOST /api/1.0/add_vote HTTP/1.1[0m" 400 -
127.0.0.1 - - [18/Jun/2020 17:14:44] "[31m[1mPOST /api/1.0/add_vote HTTP/1.1[0m" 400 -
 * Running on http://127.0.0.1:5000/ (Press CTRL+C to quit)
 * Running on http://127.0.0.1:5000/ (Press CTRL+C to quit)
Exception on /api/1.0/add_vote [POST]
Traceback (most recent call last):
  File "D:\python3\lib\site-packages\flask\app.py", line 2447, in wsgi_app
    response = self.full_dispatch_request()
  File "D:\python3\lib\site-packages\flask\app.py", line 1952, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "D:\python3\lib\site-packages\flask\app.py", line 1821, in handle_user_exception
    reraise(exc_type, exc_value, tb)
  File "D:\python3\lib\site-packages\flask\_compat.py", line 39, in reraise
    raise value
  File "D:\python3\lib\site-packages\flask\app.py", line 1950, in full_dispatch_request
    rv = self.dispatch_request()
  File "D:\python3\lib\site-packages\flask\app.py", line 1936, in dispatch_request
    return self.view_functions[rule.endpoint](**req.view_args)
  File "D:\python3\lib\site-packages\flask_jwt_extended\view_decorators.py", line 108, in wrapper
    return fn(*args, **kwargs)
  File "F:\python\voteSystem\vote\api_1_0\admin.py", line 81, in add_vote_to_competitor
    print(cid+" "+votes)
TypeError: can only concatenate str (not "int") to str
127.0.0.1 - - [18/Jun/2020 17:15:45] "[35m[1mPOST /api/1.0/add_vote HTTP/1.1[0m" 500 -
Exception on /api/1.0/add_vote [POST]
Traceback (most recent call last):
  File "D:\python3\lib\site-packages\flask\app.py", line 2447, in wsgi_app
    response = self.full_dispatch_request()
  File "D:\python3\lib\site-packages\flask\app.py", line 1952, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "D:\python3\lib\site-packages\flask\app.py", line 1821, in handle_user_exception
    reraise(exc_type, exc_value, tb)
  File "D:\python3\lib\site-packages\flask\_compat.py", line 39, in reraise
    raise value
  File "D:\python3\lib\site-packages\flask\app.py", line 1950, in full_dispatch_request
    rv = self.dispatch_request()
  File "D:\python3\lib\site-packages\flask\app.py", line 1936, in dispatch_request
    return self.view_functions[rule.endpoint](**req.view_args)
  File "D:\python3\lib\site-packages\flask_jwt_extended\view_decorators.py", line 108, in wrapper
    return fn(*args, **kwargs)
  File "F:\python\voteSystem\vote\api_1_0\admin.py", line 87, in add_vote_to_competitor
    competitor.save()
  File "D:\python3\lib\site-packages\mongoengine\document.py", line 388, in save
    self.validate(clean=clean)
  File "D:\python3\lib\site-packages\mongoengine\base\document.py", line 445, in validate
    raise ValidationError(message, errors=errors)
mongoengine.errors.ValidationError: ValidationError (Competitor:5ee9e9d3f9731159244ca892) (1.StringField only accepts string values: ['vote'])
127.0.0.1 - - [18/Jun/2020 17:15:53] "[35m[1mPOST /api/1.0/add_vote HTTP/1.1[0m" 500 -
 * Running on http://127.0.0.1:5000/ (Press CTRL+C to quit)
 * Running on http://127.0.0.1:5000/ (Press CTRL+C to quit)
Exception on /api/1.0/add_vote [POST]
Traceback (most recent call last):
  File "D:\python3\lib\site-packages\flask\app.py", line 2447, in wsgi_app
    response = self.full_dispatch_request()
  File "D:\python3\lib\site-packages\flask\app.py", line 1952, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "D:\python3\lib\site-packages\flask\app.py", line 1821, in handle_user_exception
    reraise(exc_type, exc_value, tb)
  File "D:\python3\lib\site-packages\flask\_compat.py", line 39, in reraise
    raise value
  File "D:\python3\lib\site-packages\flask\app.py", line 1950, in full_dispatch_request
    rv = self.dispatch_request()
  File "D:\python3\lib\site-packages\flask\app.py", line 1936, in dispatch_request
    return self.view_functions[rule.endpoint](**req.view_args)
  File "D:\python3\lib\site-packages\flask_jwt_extended\view_decorators.py", line 108, in wrapper
    return fn(*args, **kwargs)
  File "F:\python\voteSystem\vote\api_1_0\admin.py", line 87, in add_vote_to_competitor
    competitor.save()
  File "D:\python3\lib\site-packages\mongoengine\document.py", line 388, in save
    self.validate(clean=clean)
  File "D:\python3\lib\site-packages\mongoengine\base\document.py", line 445, in validate
    raise ValidationError(message, errors=errors)
mongoengine.errors.ValidationError: ValidationError (Competitor:5ee9e9d3f9731159244ca892) (1.StringField only accepts string values: ['vote'])
 * Running on http://127.0.0.1:5000/ (Press CTRL+C to quit)
Exception on /api/1.0/add_vote [POST]
Traceback (most recent call last):
  File "D:\python3\lib\site-packages\flask\app.py", line 2447, in wsgi_app
    response = self.full_dispatch_request()
  File "D:\python3\lib\site-packages\flask\app.py", line 1952, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "D:\python3\lib\site-packages\flask\app.py", line 1821, in handle_user_exception
    reraise(exc_type, exc_value, tb)
  File "D:\python3\lib\site-packages\flask\_compat.py", line 39, in reraise
    raise value
  File "D:\python3\lib\site-packages\flask\app.py", line 1950, in full_dispatch_request
    rv = self.dispatch_request()
  File "D:\python3\lib\site-packages\flask\app.py", line 1936, in dispatch_request
    return self.view_functions[rule.endpoint](**req.view_args)
  File "D:\python3\lib\site-packages\flask_jwt_extended\view_decorators.py", line 108, in wrapper
    return fn(*args, **kwargs)
  File "F:\python\voteSystem\vote\api_1_0\admin.py", line 87, in add_vote_to_competitor
    competitor.save()
  File "D:\python3\lib\site-packages\mongoengine\document.py", line 388, in save
    self.validate(clean=clean)
  File "D:\python3\lib\site-packages\mongoengine\base\document.py", line 445, in validate
    raise ValidationError(message, errors=errors)
mongoengine.errors.ValidationError: ValidationError (Competitor:5ee9e9d3f9731159244ca892) (1.StringField only accepts string values: ['vote'])
127.0.0.1 - - [18/Jun/2020 17:22:26] "[35m[1mPOST /api/1.0/add_vote HTTP/1.1[0m" 500 -
 * Running on http://127.0.0.1:5000/ (Press CTRL+C to quit)
127.0.0.1 - - [18/Jun/2020 17:25:13] "[31m[1mPOST /api/1.0/add_vote HTTP/1.1[0m" 401 -
user login{'username': 'tony', 'password': '123456'}
127.0.0.1 - - [18/Jun/2020 17:27:21] "[37mPOST /api/1.0/login HTTP/1.1[0m" 200 -
Exception on /api/1.0/add_vote [POST]
Traceback (most recent call last):
  File "D:\python3\lib\site-packages\flask\app.py", line 2447, in wsgi_app
    response = self.full_dispatch_request()
  File "D:\python3\lib\site-packages\flask\app.py", line 1952, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "D:\python3\lib\site-packages\flask\app.py", line 1821, in handle_user_exception
    reraise(exc_type, exc_value, tb)
  File "D:\python3\lib\site-packages\flask\_compat.py", line 39, in reraise
    raise value
  File "D:\python3\lib\site-packages\flask\app.py", line 1950, in full_dispatch_request
    rv = self.dispatch_request()
  File "D:\python3\lib\site-packages\flask\app.py", line 1936, in dispatch_request
    return self.view_functions[rule.endpoint](**req.view_args)
  File "D:\python3\lib\site-packages\flask_jwt_extended\view_decorators.py", line 108, in wrapper
    return fn(*args, **kwargs)
  File "F:\python\voteSystem\vote\api_1_0\admin.py", line 87, in add_vote_to_competitor
    competitor.save()
  File "D:\python3\lib\site-packages\mongoengine\document.py", line 388, in save
    self.validate(clean=clean)
  File "D:\python3\lib\site-packages\mongoengine\base\document.py", line 445, in validate
    raise ValidationError(message, errors=errors)
mongoengine.errors.ValidationError: ValidationError (Competitor:5ee9e9d3f9731159244ca892) (1.StringField only accepts string values: ['vote'])
127.0.0.1 - - [18/Jun/2020 17:27:36] "[35m[1mPOST /api/1.0/add_vote HTTP/1.1[0m" 500 -
 * Running on http://127.0.0.1:5000/ (Press CTRL+C to quit)
Exception on /api/1.0/add_vote [POST]
Traceback (most recent call last):
  File "D:\python3\lib\site-packages\flask\app.py", line 2447, in wsgi_app
    response = self.full_dispatch_request()
  File "D:\python3\lib\site-packages\flask\app.py", line 1952, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "D:\python3\lib\site-packages\flask\app.py", line 1821, in handle_user_exception
    reraise(exc_type, exc_value, tb)
  File "D:\python3\lib\site-packages\flask\_compat.py", line 39, in reraise
    raise value
  File "D:\python3\lib\site-packages\flask\app.py", line 1950, in full_dispatch_request
    rv = self.dispatch_request()
  File "D:\python3\lib\site-packages\flask\app.py", line 1936, in dispatch_request
    return self.view_functions[rule.endpoint](**req.view_args)
  File "D:\python3\lib\site-packages\flask_jwt_extended\view_decorators.py", line 108, in wrapper
    return fn(*args, **kwargs)
  File "F:\python\voteSystem\vote\api_1_0\admin.py", line 87, in add_vote_to_competitor
    competitor.save()
  File "D:\python3\lib\site-packages\mongoengine\document.py", line 388, in save
    self.validate(clean=clean)
  File "D:\python3\lib\site-packages\mongoengine\base\document.py", line 445, in validate
    raise ValidationError(message, errors=errors)
mongoengine.errors.ValidationError: ValidationError (Competitor:5ee9e9d3f9731159244ca892) (1.StringField only accepts string values: ['vote'])
127.0.0.1 - - [18/Jun/2020 17:28:55] "[35m[1mPOST /api/1.0/add_vote HTTP/1.1[0m" 500 -
 * Running on http://127.0.0.1:5000/ (Press CTRL+C to quit)
127.0.0.1 - - [18/Jun/2020 17:31:01] "[37mGET /api/1.0/vote/000002 HTTP/1.1[0m" 200 -
127.0.0.1 - - [18/Jun/2020 17:31:04] "[37mGET /api/1.0/vote/000002 HTTP/1.1[0m" 200 -
127.0.0.1 - - [18/Jun/2020 17:31:05] "[37mGET /api/1.0/vote/000002 HTTP/1.1[0m" 200 -
127.0.0.1 - - [18/Jun/2020 17:31:05] "[37mGET /api/1.0/vote/000002 HTTP/1.1[0m" 200 -
127.0.0.1 - - [18/Jun/2020 17:31:06] "[37mGET /api/1.0/vote/000002 HTTP/1.1[0m" 200 -
127.0.0.1 - - [18/Jun/2020 17:31:06] "[37mGET /api/1.0/vote/000002 HTTP/1.1[0m" 200 -
127.0.0.1 - - [18/Jun/2020 17:31:06] "[37mGET /api/1.0/vote/000002 HTTP/1.1[0m" 200 -
127.0.0.1 - - [18/Jun/2020 17:31:06] "[37mGET /api/1.0/vote/000002 HTTP/1.1[0m" 200 -
127.0.0.1 - - [18/Jun/2020 17:32:58] "[37mGET /api/1.0/vote/000002 HTTP/1.1[0m" 200 -
127.0.0.1 - - [18/Jun/2020 17:33:31] "[37mGET /api/1.0/vote/000001 HTTP/1.1[0m" 200 -
127.0.0.1 - - [18/Jun/2020 17:33:33] "[37mGET /api/1.0/vote/000001 HTTP/1.1[0m" 200 -
127.0.0.1 - - [18/Jun/2020 17:33:33] "[37mGET /api/1.0/vote/000001 HTTP/1.1[0m" 200 -
127.0.0.1 - - [18/Jun/2020 17:33:34] "[37mGET /api/1.0/vote/000001 HTTP/1.1[0m" 200 -
127.0.0.1 - - [18/Jun/2020 17:33:34] "[37mGET /api/1.0/vote/000001 HTTP/1.1[0m" 200 -
127.0.0.1 - - [18/Jun/2020 17:33:49] "[37mGET /api/1.0/vote/00001 HTTP/1.1[0m" 200 -
127.0.0.1 - - [18/Jun/2020 17:36:55] "[37mGET /api/1.0/vote/000001 HTTP/1.1[0m" 200 -
load data to redis
Exception on /api/1.0/load [GET]
Traceback (most recent call last):
  File "D:\python3\lib\site-packages\flask\app.py", line 2447, in wsgi_app
    response = self.full_dispatch_request()
  File "D:\python3\lib\site-packages\flask\app.py", line 1952, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "D:\python3\lib\site-packages\flask\app.py", line 1821, in handle_user_exception
    reraise(exc_type, exc_value, tb)
  File "D:\python3\lib\site-packages\flask\_compat.py", line 39, in reraise
    raise value
  File "D:\python3\lib\site-packages\flask\app.py", line 1950, in full_dispatch_request
    rv = self.dispatch_request()
  File "D:\python3\lib\site-packages\flask\app.py", line 1936, in dispatch_request
    return self.view_functions[rule.endpoint](**req.view_args)
  File "F:\python\voteSystem\vote\api_1_0\user.py", line 79, in load
    load_data_to_redis()
  File "F:\python\voteSystem\vote\__init__.py", line 52, in load_data_to_redis
    redis_conn.sadd(REDIS_VOTE_PREFIX + item.cid, u)
  File "D:\python3\lib\site-packages\redis\client.py", line 2243, in sadd
    return self.execute_command('SADD', name, *values)
  File "D:\python3\lib\site-packages\redis\client.py", line 900, in execute_command
    conn.send_command(*args)
  File "D:\python3\lib\site-packages\redis\connection.py", line 725, in send_command
    self.send_packed_command(self.pack_command(*args),
  File "D:\python3\lib\site-packages\redis\connection.py", line 775, in pack_command
    for arg in imap(self.encoder.encode, args):
  File "D:\python3\lib\site-packages\redis\connection.py", line 120, in encode
    "bytes, string, int or float first." % typename)
redis.exceptions.DataError: Invalid input of type: 'NoneType'. Convert to a bytes, string, int or float first.
127.0.0.1 - - [18/Jun/2020 17:37:14] "[35m[1mGET /api/1.0/load HTTP/1.1[0m" 500 -
load data to redis
Exception on /api/1.0/load [GET]
Traceback (most recent call last):
  File "D:\python3\lib\site-packages\flask\app.py", line 2447, in wsgi_app
    response = self.full_dispatch_request()
  File "D:\python3\lib\site-packages\flask\app.py", line 1952, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "D:\python3\lib\site-packages\flask\app.py", line 1821, in handle_user_exception
    reraise(exc_type, exc_value, tb)
  File "D:\python3\lib\site-packages\flask\_compat.py", line 39, in reraise
    raise value
  File "D:\python3\lib\site-packages\flask\app.py", line 1950, in full_dispatch_request
    rv = self.dispatch_request()
  File "D:\python3\lib\site-packages\flask\app.py", line 1936, in dispatch_request
    return self.view_functions[rule.endpoint](**req.view_args)
  File "F:\python\voteSystem\vote\api_1_0\user.py", line 79, in load
    load_data_to_redis()
  File "F:\python\voteSystem\vote\__init__.py", line 52, in load_data_to_redis
    redis_conn.sadd(REDIS_VOTE_PREFIX + item.cid, u)
  File "D:\python3\lib\site-packages\redis\client.py", line 2243, in sadd
    return self.execute_command('SADD', name, *values)
  File "D:\python3\lib\site-packages\redis\client.py", line 900, in execute_command
    conn.send_command(*args)
  File "D:\python3\lib\site-packages\redis\connection.py", line 725, in send_command
    self.send_packed_command(self.pack_command(*args),
  File "D:\python3\lib\site-packages\redis\connection.py", line 775, in pack_command
    for arg in imap(self.encoder.encode, args):
  File "D:\python3\lib\site-packages\redis\connection.py", line 120, in encode
    "bytes, string, int or float first." % typename)
redis.exceptions.DataError: Invalid input of type: 'NoneType'. Convert to a bytes, string, int or float first.
127.0.0.1 - - [18/Jun/2020 17:38:27] "[35m[1mGET /api/1.0/load HTTP/1.1[0m" 500 -
 * Running on http://127.0.0.1:5000/ (Press CTRL+C to quit)
127.0.0.1 - - [18/Jun/2020 17:40:45] "[31m[1mPOST /api/1.0/register HTTP/1.1[0m" 400 -
user registerobject_id:None - username:tom - password:123456 -role:u
127.0.0.1 - - [18/Jun/2020 17:41:04] "[37mPOST /api/1.0/register HTTP/1.1[0m" 200 -
127.0.0.1 - - [18/Jun/2020 17:41:10] "[31m[1mPOST /api/1.0/register HTTP/1.1[0m" 400 -
user registerobject_id:None - username:lily - password:123456 -role:u
127.0.0.1 - - [18/Jun/2020 17:41:31] "[37mPOST /api/1.0/register HTTP/1.1[0m" 200 -
127.0.0.1 - - [18/Jun/2020 17:42:05] "[37mPOST //api/1.0/apply HTTP/1.1[0m" 200 -
127.0.0.1 - - [18/Jun/2020 17:42:31] "[37mPOST //api/1.0/apply HTTP/1.1[0m" 200 -
 * Running on http://127.0.0.1:5000/ (Press CTRL+C to quit)
 * Running on http://127.0.0.1:5000/ (Press CTRL+C to quit)
127.0.0.1 - - [18/Jun/2020 17:44:26] "[37mPOST //api/1.0/apply HTTP/1.1[0m" 200 -
127.0.0.1 - - [18/Jun/2020 17:44:49] "[37mPOST //api/1.0/apply HTTP/1.1[0m" 200 -
127.0.0.1 - - [18/Jun/2020 17:44:50] "[37mPOST //api/1.0/apply HTTP/1.1[0m" 200 -
user login{'username': 'tony', 'password': '123456'}
127.0.0.1 - - [18/Jun/2020 17:45:15] "[37mPOST /api/1.0/login HTTP/1.1[0m" 200 -
user login{'username': 'tony', 'password': '123456'}
127.0.0.1 - - [18/Jun/2020 17:45:19] "[37mPOST /api/1.0/login HTTP/1.1[0m" 200 -
127.0.0.1 - - [18/Jun/2020 17:45:30] "[37mGET /api/1.0/vote/000001 HTTP/1.1[0m" 200 -
127.0.0.1 - - [18/Jun/2020 17:45:31] "[37mGET /api/1.0/vote/000001 HTTP/1.1[0m" 200 -
127.0.0.1 - - [18/Jun/2020 17:45:49] "[31m[1mPOST /api/1.0/add_vote HTTP/1.1[0m" 401 -
user login{'username': 'tony', 'password': '123456'}
127.0.0.1 - - [18/Jun/2020 17:45:54] "[37mPOST /api/1.0/login HTTP/1.1[0m" 200 -
127.0.0.1 - - [18/Jun/2020 17:46:05] "[37mPOST /api/1.0/add_vote HTTP/1.1[0m" 200 -
127.0.0.1 - - [18/Jun/2020 17:46:07] "[37mPOST /api/1.0/add_vote HTTP/1.1[0m" 200 -
 * Running on http://127.0.0.1:5000/ (Press CTRL+C to quit)
127.0.0.1 - - [18/Jun/2020 17:48:28] "[37mPOST /api/1.0/add_vote HTTP/1.1[0m" 200 -
127.0.0.1 - - [18/Jun/2020 17:50:09] "[37mGET /api/1.0/get_ranking_list/1/0 HTTP/1.1[0m" 200 -
 * Running on http://127.0.0.1:5000/ (Press CTRL+C to quit)
127.0.0.1 - - [18/Jun/2020 17:51:21] "[37mGET /api/1.0/get_ranking_list/1/0 HTTP/1.1[0m" 200 -
 * Running on http://127.0.0.1:5000/ (Press CTRL+C to quit)
127.0.0.1 - - [18/Jun/2020 17:57:28] "[37mPOST //api/1.0/apply HTTP/1.1[0m" 200 -
